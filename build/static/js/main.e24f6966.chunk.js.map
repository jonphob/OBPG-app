{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","pages/dashboard/ProjectFilter.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","hooks/useCreateUser.js","pages/CreateUser/CreateUser.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","assets/OBP.svg","components/Navbar.js","hooks/useLogout.js","hooks/useGreeting.js","assets/add_icon.svg","assets/dashboard_icon.svg","assets/personIcon.svg","components/Sidebar.js","components/OnlineUsers.js","components/RxFigureInput.js","pages/addRxFigures/AddRxFigures.js","pages/addServiceFigures/AddServiceFigures.js","pages/viewRxFigures/ViewRxFigures.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","projectFirestore","firestore","projectAuth","auth","timestamp","storage","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_orderBy","_query","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","filterList","ProjectFilter","currentFilter","changeFilter","className","map","f","onClick","Avatar","src","alt","ProjectList","projects","length","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","Dashboard","filter","setFilter","document","assignedToMe","u","uid","category","newFilter","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","users","setUsers","navigate","useNavigate","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","options","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","customStyles","provided","color","isSelected","backgroundColor","valueContainer","outline","padding","control","borderColor","branches","CreateUser","firstName","setFirstName","lastName","setLastName","role","setRole","roleList","setRoleList","branch","setBranch","isActive","createUser","createUserWithEmailAndPassword","updateProfile","set","useCreateUser","autoComplete","styles","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","useDocument","useParams","Navbar","logout","signOut","useLogout","OBP","Sidebar","greeting","time","parseInt","getHours","useGreeting","userIcon","DashboardIcon","AddIcon","OnlineUsers","img","RxFigureInput","inputName","onChangeFn","min","AddRxFigures","date","setDate","paperExForms","setPaperExForms","paperExItems","setPaperExItems","paperPdForms","setPaperPdForms","paperPdItems","setPaperPdItems","epsExForms","setEpsExForms","epsExItems","setEpsExItems","epsPdForms","setEpsPdForms","epsPdItems","setEpsPdItems","mdaExForms","setMdaExForms","mdaExItems","setMdaExItems","mdaPdForms","setMdaPdForms","mdaPdItems","setMdaPdItems","addedBy","dailyFigures","dateForFigures","figures","paidForms","paidItems","exemptForms","exemptItems","toast","position","reverseOrder","gutter","containerClassName","containerStyle","bottom","toastOptions","duration","style","background","height","borderRadius","iconTheme","primary","secondary","theme","htmlFor","AddServiceFigures","ViewRxFigures","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"+gBAiBAA,IAASC,cAXc,CACrBC,OAAQ,0CACRC,WAAY,2BACZC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAOjB,IAAMC,EAAmBT,IAASU,YAC5BC,EAAcX,IAASY,OAIvBC,GAHiBb,IAASc,UAGdd,IAASU,UAAUK,W,OCtBxBC,EAAcC,0BAEdC,EAAc,SAACC,EAAOC,GACjC,OAAQA,EAAOC,MACb,IAAK,QACH,OAAO,2BAAKF,GAAZ,IAAmBG,KAAMF,EAAOG,UAClC,IAAK,SACH,OAAO,2BAAKJ,GAAZ,IAAmBG,KAAM,OAC3B,IAAK,gBACH,MAAO,CAAEA,KAAMF,EAAOG,QAASC,aAAa,GAC9C,QACE,OAAOL,IAIAM,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpC,EAA0BC,qBAAWT,EAAa,CAChDI,KAAM,KACNE,aAAa,IAFf,mBAAOL,EAAP,KAAcS,EAAd,KAcA,OATAC,qBAAU,WACR,IAAMC,EAAQnB,EAAYoB,oBAAmB,SAAAT,GAC3CM,EAAS,CAAEP,KAAM,gBAAiBE,QAASD,IAC3CQ,SAED,IAEHE,QAAQC,IAAI,qBAAsBd,GAGhC,cAACH,EAAYkB,SAAb,CAAsBC,MAAK,2BAAOhB,GAAP,IAAcS,aAAzC,SACIF,KChCKU,EAAiB,WAC5B,IAAMC,EAAUC,qBAAWtB,GAE3B,IAAIqB,EACF,MAAME,MAAM,6DAGd,OAAOF,G,gBCJIG,EAAgB,SAACC,EAAYC,EAAUC,GAClD,MAAkCC,mBAAS,MAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAKMC,EAAQC,iBAAOP,GAAQQ,QACvBC,EAAUF,iBAAOR,GAAUS,QAgCjC,OA7BAtB,qBAAU,WACR,IAEW,EAFPwB,EAAM5C,EAAiBgC,WAAWA,GAElCQ,IACFI,GAAM,EAAAA,GAAIC,MAAJ,oBAAaL,KAEjBG,IACFC,EAAMA,EAAID,QAAQA,IAGpB,IAAMG,EAAcF,EAAIG,YAAW,SAAAC,GACjC,IAAIC,EAAU,GACdD,EAASE,KAAKC,SAAQ,SAAAC,GACpBH,EAAQI,KAAR,2BAAiBD,EAAIE,QAArB,IAA6BC,GAAIH,EAAIG,SAIvClB,EAAaY,GACbV,EAAS,SACR,SAAAD,GACDf,QAAQC,IAAIc,GACZC,EAAS,+BAIX,OAAO,kBAAMO,OAEZ,CAACd,EAAYQ,EAAOG,IAEhB,CAAEP,YAAWE,UC9ChBkB,EAAY,CAAC,MAAO,OAAQ,cAAe,QAAS,YAAa,UAExD,SAASC,EAAT,GAAyD,IAAhCC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,aAMnD,OACE,qBAAKC,UAAU,iBAAf,SACE,gCACE,4CACCJ,EAAWK,KAAI,SAACC,GAAD,OACd,wBACEF,UAAWF,IAAkBI,EAAI,SAAW,GAE5CC,QAAS,WAXfJ,EAWiCG,IAH7B,SAKGA,GAHIA,W,MCbJ,SAASE,EAAT,GAA0B,IAARC,EAAO,EAAPA,IAC7B,OACI,qBAAKL,UAAU,SAAf,SACI,qBAAKK,IAAKA,EAAKC,IAAI,kB,MCDhB,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SAClC,OACE,sBAAKR,UAAU,eAAf,UACuB,IAApBQ,EAASC,QAAgB,oDACzBD,EAASP,KAAI,SAACS,GAAD,OACZ,eAAC,IAAD,CAAMC,GAAE,mBAAcD,EAAQf,IAA9B,UACI,6BAAKe,EAAQE,OACb,wCAAWF,EAAQG,QAAQC,SAASC,kBACpC,qBAAKf,UAAU,cAAf,SACI,6BACCU,EAAQM,kBAAkBf,KAAI,SAAAhD,GAAI,OAC/B,6BACI,cAAC,EAAD,CAAQoD,IAAKpD,EAAKgE,YADbhE,EAAKgE,mBANcP,EAAQf,U,MCC3C,SAASuB,IACpB,IAAQjE,EAASc,IAATd,KACR,EAA4BsB,mBAAS,OAArC,mBAAO4C,EAAP,KAAeC,EAAf,KACA,EAA6BjD,EAAc,YAAnCK,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MAMb8B,EAAWhC,EAAYA,EAAU2C,QAAO,SAACE,GAC3C,OAAQF,GACJ,IAAK,MACD,OAAO,EACX,IAAK,OACD,IAAIG,GAAe,EAMnB,OALAD,EAASL,kBAAkBzB,SAAQ,SAAAgC,GAC5BtE,EAAKuE,MAAQD,EAAE5B,KACd2B,GAAe,MAGhBA,EACX,IAAK,cACL,IAAK,SACL,IAAK,QACL,IAAK,YACD,OAAOD,EAASI,WAAaN,EACjC,QACI,OAAO,MAEV,KAEL,OACI,gCACI,oBAAInB,UAAU,QAAd,uBACCtB,GAAS,mBAAGsB,UAAU,QAAb,SAAsBtB,IAC/BF,GAAa,cAACqB,EAAD,CAAeC,cAAeqB,EAAQpB,aA9B3C,SAAC2B,GAClBN,EAAUM,MA8BDlB,GAAY,cAAC,EAAD,CAAaA,SAAUA,O,oCC3ChDmB,EAAe,CACjBN,SAAU,KACVO,WAAW,EACXlD,MAAO,KACPmD,QAAS,MAGLC,EAAmB,SAAChF,EAAOC,GAC/B,OAAQA,EAAOC,MACb,IAAK,aACH,MAAO,CAAE4E,WAAW,EAAMP,SAAU,KAAMQ,SAAS,EAAOnD,MAAO,MACnE,IAAK,iBACH,MAAO,CAAEkD,WAAW,EAAOP,SAAUtE,EAAOG,QAAS2E,SAAS,EAAMnD,MAAO,MAC7E,IAAK,mBACH,MAAO,CAAEkD,WAAW,EAAOP,SAAU,KAAMQ,SAAS,EAAMnD,MAAO,MACnE,IAAK,mBACH,MAAO,CAAEkD,WAAU,EAAOP,SAAUtE,EAAOG,QAAS2E,SAAS,EAAMnD,MAAO,MAC5E,IAAK,QACH,MAAO,CAAEkD,WAAW,EAAOP,SAAU,KAAMQ,SAAS,EAAOnD,MAAO3B,EAAOG,SAC3E,QACE,OAAOJ,IAIAiF,EAAe,SAAC3D,GAC3B,MAA6Bd,qBAAWwE,EAAkBH,GAA1D,mBAAOK,EAAP,KAAiBzE,EAAjB,KACA,EAAsCgB,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KAGMlD,EAAM5C,EAAiBgC,WAAWA,GAGlC+D,EAAyB,SAACpF,GACzBkF,GACH1E,EAASR,IAKPqF,EAAW,uCAAG,WAAO5C,GAAP,iBAAA6C,EAAA,6DAClB9E,EAAS,CAAEP,KAAM,eADC,SAIVsF,EAAY9F,EAAU+F,SAAS,IAAIC,MAJzB,SAKYxD,EAAIyD,IAAJ,2BAAajD,GAAb,IAAkB8C,eAL9B,OAKVI,EALU,OAMhBP,EAAuB,CAAEnF,KAAM,iBAAkBE,QAASwF,IAN1C,gDAShBP,EAAuB,CAAEnF,KAAM,QAASE,QAAS,KAAIyF,UATrC,yDAAH,sDAcXC,EAAc,uCAAG,WAAOjD,GAAP,SAAA0C,EAAA,6DACrB9E,EAAS,CAAEP,KAAM,eADI,kBAIbgC,EAAIQ,IAAIG,GAAIkD,SAJC,OAKnBV,EAAuB,CAAEnF,KAAM,qBALZ,gDAQnBmF,EAAuB,CAAEnF,KAAM,QAASE,QAAS,qBAR9B,yDAAH,sDAad4F,EAAc,uCAAG,WAAOnD,EAAIoD,GAAX,eAAAV,EAAA,6DACrB9E,EAAS,CAAEP,KAAM,eADI,kBAIWgC,EAAIQ,IAAIG,GAAIqD,OAAOD,GAJ9B,cAIbE,EAJa,OAKnBd,EAAuB,CAAEnF,KAAM,mBAAoBE,QAAS+F,IALzC,kBAMZA,GANY,uCASnBd,EAAuB,CAAEnF,KAAM,QAASE,QAAS,KAAIyF,UATlC,kBAUZ,MAVY,yDAAH,wDAoBpB,OAJAnF,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEE,cAAaQ,iBAAgBE,iBAAgBd,aC7ElDkB,G,MAAa,CACjB,CAAEpF,MAAO,cAAeqF,MAAO,eAC/B,CAAErF,MAAO,SAAUqF,MAAO,UAC1B,CAAErF,MAAO,QAASqF,MAAO,SACzB,CAAErF,MAAO,YAAaqF,MAAO,eAGhB,SAASC,IAEtB,MAAwB7E,mBAAS,IAAjC,mBAAOqC,EAAP,KAAayC,EAAb,KACA,EAA8B9E,mBAAS,IAAvC,mBAAO+E,EAAP,KAAgBC,EAAhB,KACA,EAA8BhF,mBAAS,IAAvC,mBAAOsC,EAAP,KAAgB2C,EAAhB,KACA,EAAgCjF,mBAAS,IAAzC,mBAAOkD,EAAP,KAAiBgC,EAAjB,KACA,EAA0ClF,mBAAS,IAAnD,mBAAOmF,EAAP,KAAsBC,EAAtB,KACA,EAAkCpF,mBAAS,MAA3C,mBAAOqF,EAAP,KAAkBC,EAAlB,KAIA,EAAkC9B,EAAa,YAAvCK,EAAR,EAAQA,YAAaJ,EAArB,EAAqBA,SACbxD,EAAcL,EAAc,SAA5BK,UACR,EAA0BD,mBAAS,IAAnC,mBAAOuF,EAAP,KAAcC,EAAd,KACQ9G,EAASc,IAATd,KACF+G,EAAWC,cAGjBzG,qBAAU,WACJgB,GACFuF,EACEvF,EAAUyB,KAAI,SAAChD,GACb,MAAO,CAAEa,MAAM,2BAAMb,GAAP,IAAa0C,GAAI1C,EAAK0C,KAAMwD,MAAOlG,EAAKiH,mBAI3D,CAAC1F,IAkCJ,IAAM2F,EAAY,uCAAG,WAAOC,GAAP,mBAAA/B,EAAA,yDACnB+B,EAAEC,iBACFR,EAAa,MAETpC,EAJe,uBAKfoC,EAAa,oCALE,+BASfH,EAAcjD,OAAS,GATR,uBAUjBoD,EAAa,kDAVI,iCAebS,EAAY,CACdJ,YAAajH,EAAKiH,YAClBjD,SAAUhE,EAAKgE,SACftB,GAAI1C,EAAKuE,KAIPR,EAAoB0C,EAAczD,KAAI,SAACsB,GACzC,MAAO,CACH2C,YAAa3C,EAAEzD,MAAMoG,YACrBjD,SAAUM,EAAEzD,MAAMmD,SAClBtB,GAAI4B,EAAEzD,MAAM6B,OAKde,EAAU,CACdE,KAAMA,EACN0C,QAASA,EACT7B,SAAUA,EAAS3D,MACnB+C,QAASrE,EAAU+F,SAAS,IAAIC,KAAK3B,IACrC0D,SAAU,GACVD,UAAWA,EACXtD,kBAAmBA,GAtCF,UAyCboB,EAAY1B,GAzCC,QA2CfsB,EAAStD,OACXsF,EAAS,KA5CQ,4CAAH,sDAgDlB,OACE,sBAAKhE,UAAU,cAAf,UACE,oBAAIA,UAAU,QAAd,4BACA,uBAAMwE,SAAUL,EAAhB,UACE,kCACE,uDACA,uBACEM,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAOf,EAAQe,EAAEO,OAAO7G,QAClCA,MAAO8C,OAGX,kCACE,6EACA,0BACE6D,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAOb,EAAWa,EAAEO,OAAO7G,QACrCA,MAAOwF,OAGX,kCACE,kDACA,uBACEmB,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAOZ,EAAWY,EAAEO,OAAO7G,QACrCA,MAAO+C,OAGX,kCACE,sDACA,cAAC,IAAD,CACE6D,SAAU,SAACE,GAAD,OAAYnB,EAAYmB,IAClCC,QAAS3B,OAGb,kCACE,8CACA,cAAC,IAAD,CACEwB,SAAU,SAACE,GAAD,OAAYjB,EAAiBiB,IACvCC,QAASf,EACTgB,SAAO,OAGX,wBAAQ9E,UAAU,MAAlB,yBACC4D,GAAa,mBAAG5D,UAAU,QAAb,SAAsB4D,U,MCzK7B,SAASmB,IAEpB,MAA0BxG,mBAAS,IAAnC,mBAAOyG,EAAP,KAAcC,EAAd,KACA,EAAgC1G,mBAAS,IAAzC,mBAAO2G,EAAP,KAAiBC,EAAjB,KACA,ECJoB,WACtB,MAAsC5G,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KACA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOqD,EAAP,KAAkBwD,EAAlB,KACQ7H,EAAaQ,IAAbR,SACFyG,EAAWC,cAEXoB,EAAK,uCAAG,WAAOL,EAAOE,GAAd,eAAA7C,EAAA,6DACZ1D,EAAS,MACTyG,GAAa,GAFD,kBAMQ9I,EAAYgJ,2BAA2BN,EAAOE,GANtD,cAMJK,EANI,gBASJnJ,EAAiBgC,WAAW,SACjCoB,IAAI+F,EAAItI,KAAKuE,KAAKwB,OAAO,CAACwC,QAAQ,IAVzB,OAaVjI,EAAS,CAAEP,KAAM,QAASE,QAASqI,EAAItI,OAElCgF,IACHmD,GAAa,GACbzG,EAAS,MACTqF,EAAS,MAlBD,kDAuBL/B,IACHtD,EAAS,KAAIgE,SACbyC,GAAa,IAzBL,0DAAH,wDAoCX,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEmD,QAAOzD,YAAWlD,SDvCW+G,GAA5BJ,EAAR,EAAQA,MAAOzD,EAAf,EAAeA,UAAWlD,EAA1B,EAA0BA,MAO1B,OACE,uBAAMsB,UAAU,aAAawE,SANV,SAACJ,GAClBA,EAAEC,iBACFgB,EAAML,EAAOE,IAIf,UACE,wCACA,kCACE,0CACA,uBACET,UAAQ,EACRzH,KAAK,QACL0H,SAAU,SAACN,GAAD,OAAOa,EAASb,EAAEO,OAAO7G,QACnCA,MAAOkH,OAGX,kCACE,6CACA,uBACEP,UAAQ,EACRzH,KAAK,WACL0H,SAAU,SAACN,GAAD,OAAOe,EAAYf,EAAEO,OAAO7G,QACtCA,MAAOoH,IAET,sBAAMlF,UAAU,aAAhB,kCAGA4B,GAAa,wBAAQ5B,UAAU,MAAlB,oBACd4B,GAAc,wBAAQ8D,UAAQ,EAAC1F,UAAU,MAA3B,wBACdtB,GAAS,qBAAKsB,UAAU,QAAf,SAAwBtB,O,MErCnC,ICODiH,EAAe,CACnBf,OAAQ,SAACgB,EAAU9I,GAAX,mBAAC,eACJ8I,GADG,IAENC,MAAO/I,EAAMgJ,WAAa,QAAU,WACpCC,gBAAiBjJ,EAAMgJ,WAAa,UAAY,QAChD,SAAU,CACRC,gBAAiB,YACjBF,MAAO,cAGXG,eAAgB,SAACJ,EAAU9I,GAAX,mBAAC,eACZ8I,GADW,IAEd,gBAAiB,CACfK,QAAS,qBAEXC,QAAS,aAEXC,QAAS,SAACP,EAAU9I,GAAX,mBAAC,eACL8I,GADI,IAGP,SAAU,CACRQ,YAAa,eAKbC,EAAW,CACf,CAAEvI,MAAO,eAAgBqF,MAAO,yBAChC,CAAErF,MAAO,UAAWqF,MAAO,oBAC3B,CAAErF,MAAO,YAAaqF,MAAO,sBAC7B,CAAErF,MAAO,YAAaqF,MAAO,sBAC7B,CAAErF,MAAO,cAAeqF,MAAO,yBAC/B,CAAErF,MAAO,cAAeqF,MAAO,yBAC/B,CAAErF,MAAO,aAAcqF,MAAO,eAC9B,CAAErF,MAAO,WAAYqF,MAAO,sBAC5B,CAAErF,MAAO,YAAaqF,MAAO,sBAC7B,CAAErF,MAAO,aAAcqF,MAAO,wBAGjB,SAASmD,IAEtB,IAAQrJ,EAASc,IAATd,KACAuB,EAAcL,EAAc,QAAS,MAArCK,UACR,EAAkCD,mBAAS,IAA3C,mBAAOgI,EAAP,KAAkBC,EAAlB,KACA,EAAgCjI,mBAAS,IAAzC,mBAAOkI,EAAP,KAAiBC,EAAjB,KACA,EAA0BnI,mBAAS,IAAnC,mBAAOyG,EAAP,KAAcC,EAAd,KACA,EAAgC1G,mBAAS,IAAzC,mBAAO2G,EAAP,KAAiBC,EAAjB,KACA,EAAwB5G,mBAAS,IAAjC,mBAAOoI,EAAP,KAAaC,EAAb,KACA,EAAgCrI,mBAAS,IAAzC,mBAAOsI,EAAP,KAAiBC,EAAjB,KACA,EAA4BvI,mBAAS,IAArC,mBAAOwI,EAAP,KAAeC,EAAf,KACA,EAAkCzI,mBAAS,MAA3C,mBAAOqF,EAAP,KAAkBC,EAAlB,KACA,EAAgCtF,oBAAS,GAAzC,mBAAO0I,EAAP,KAGA,GAHA,KD1D2B,WAC3B,MAAsC1I,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KACA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOqD,EAAP,KAAkBwD,EAAlB,KAGM8B,EAAU,uCAAG,WACjBlC,EACAE,EACAqB,EACAE,EACAM,EACAJ,EACArC,EACA2C,GARiB,eAAA5E,EAAA,6DAUjB1D,EAAS,MACTyG,GAAa,GAXI,kBAeG9I,EAAY6K,+BAA+BnC,EAAOE,GAfrD,UAeTK,EAfS,6BAmBP,IAAIrH,MAAM,2CAnBH,wBA4BTqH,EAAItI,KAAKmK,cAAc,CAAElD,YAAaqC,IA5B7B,yBA+BTnK,EAAiBgC,WAAW,SAASoB,IAAI+F,EAAItI,KAAKuE,KAAK6F,IAAI,CAC/D7B,QAAQ,EACRe,YACAE,WACAM,SACAJ,OACArC,YACA2C,aAtCa,QA6CVhF,IACHmD,GAAa,GACbzG,EAAS,OA/CI,kDAkDVsD,IACHtD,EAAS,KAAIgE,SACbyC,GAAa,IApDA,0DAAH,oEA6DhB,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEgF,aAAYxI,QAAOkD,aCNa0F,IAAjCJ,EAAR,EAAQA,WAAYtF,EAApB,EAAoBA,UAAWlD,EAA/B,EAA+BA,MAG/BlB,qBAAU,WAEJgB,GACFsI,EACEtI,EAAUyB,KAAI,SAAC0G,GACb,MAAO,CAAE7I,MAAM6I,EAAK/F,KAAOuC,MAAOwD,EAAK/F,YAI5C,CAACpC,IAEJ,IAAM2F,GAAY,uCAAG,WAAOC,GAAP,eAAA/B,EAAA,yDACnB+B,EAAEC,iBACFR,EAAa,MAERkD,EAJc,uBAKjBlD,EAAa,0BALI,6BASd8C,EATc,uBAUjB9C,EAAa,wBAVI,iCAebS,EAAY,CAChB1D,KAAM3D,EAAKiH,YACXvE,GAAI1C,EAAKuE,IACTc,UAAW9F,EAAU+F,SAAS,IAAIC,OAlBjB,UAqBb0E,EAAWlC,EAAOE,EAAUqB,EAAWE,EAAUM,EAAQJ,EAAMrC,EAAW2C,GArB7D,QAuBfvI,IACF8H,EAAa,IACbE,EAAY,IACZzB,EAAS,IACTE,EAAY,IAEZyB,EAAQ,MACRI,EAAU,OA9BO,4CAAH,sDAkClB,OACE,uBAAMhH,UAAU,YAAYwE,SAAUL,GAAtC,UACE,iDACA,sBAAKnE,UAAU,iBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,kCACE,+CACA,uBACEyE,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAOoC,EAAapC,EAAEO,OAAO7G,QACvCA,MAAOyI,OAGX,kCACE,8CACA,uBACE9B,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAOsC,EAAYtC,EAAEO,OAAO7G,QACtCA,MAAO2I,OAGX,kCACE,0CACA,uBACEc,aAAa,eACb3G,KAAK,QACL6D,UAAQ,EACRzH,KAAK,QACL0H,SAAU,SAACN,GAAD,OAAOa,EAASb,EAAEO,OAAO7G,QACnCA,MAAOkH,OAGX,kCACE,uDACA,uBACEuC,aAAa,eACb3G,KAAK,WACL6D,UAAQ,EACRzH,KAAK,WACL0H,SAAU,SAACN,GAAD,OAAOe,EAAYf,EAAEO,OAAO7G,QACtCA,MAAOoH,UAIb,sBAAKlF,UAAU,cAAf,UACE,kCACE,2CACA,cAAC,IAAD,CACEwH,OAAQ7B,EACRd,QAASwB,EACT3B,SAAU,SAACE,GAAD,OAAYoC,EAAUpC,EAAO9G,aAG3C,kCACE,yCACA,cAAC,IAAD,CACE0J,OAAQ7B,EACRd,QAASgC,EACTnC,SAAU,SAACE,GAAD,OAAYgC,EAAQhC,EAAO9G,oBAM3C8D,GAAa,wBAAQ5B,UAAU,MAAlB,yBACd4B,GACC,wBAAQ8D,UAAQ,EAAC1F,UAAU,MAA3B,qBAID4D,GAAa,mBAAG5D,UAAU,QAAb,SAAsB4D,IACnClF,GAAS,qBAAKsB,UAAU,QAAf,SAAwBtB,O,MCnLzB,SAAS+I,EAAT,GAAsC,IAAZ/G,EAAW,EAAXA,QAE7BkC,EAAmBb,EAAa,YAAhCa,eACA3F,EAASc,IAATd,KACF+G,EAAWC,cAQjB,OACE,gCACE,sBAAKjE,UAAU,kBAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BU,EAAQE,OACpC,6CAAgBF,EAAQ4D,UAAUJ,YAAlC,OACA,oBAAGlE,UAAU,WAAb,6BACmBU,EAAQG,QAAQC,SAASC,kBAE5C,mBAAGf,UAAU,UAAb,SAAwBU,EAAQ4C,UAEhC,yDACA,qBAAKtD,UAAU,iBAAf,SACGU,EAAQM,kBAAkBf,KAAI,SAAChD,GAAD,OAC7B,8BACE,cAAC,EAAD,CAAQoD,IAAKpD,EAAKgE,YADVhE,EAAK0C,YAQpB1C,EAAKuE,MAAQd,EAAQ4D,UAAU3E,IAC9B,wBAAQQ,QA5BM,SAACiE,GAEjBxB,EAAelC,EAAQf,IACvBqE,EAAS,MAyBuBhE,UAAU,MAAxC,iC,YClCK,SAAS0H,EAAT,GAAuC,IAAZhH,EAAW,EAAXA,QACtC,EAAqCqB,EAAa,YAA1Ce,EAAR,EAAQA,eAAgBd,EAAxB,EAAwBA,SACxB,EAAmCzD,mBAAS,IAA5C,mBAAOoJ,EAAP,KAAmBC,EAAnB,KACQ3K,EAASc,IAATd,KAEFkH,EAAY,uCAAG,WAAOC,GAAP,eAAA/B,EAAA,6DACjB+B,EAAEC,iBAEIwD,EAAe,CACjB3D,YAAajH,EAAKiH,YAClBjD,SAAUhE,EAAKgE,SACf6G,QAASH,EACTrF,UAAW9F,EAAU+F,SAAS,IAAIC,MAClC7C,GAAIoI,KAAKC,UARI,SAUXlF,EAAepC,EAAQf,GAAI,CAC7B4E,SAAS,GAAD,mBAAM7D,EAAQ6D,UAAd,CAAwBsD,MAXnB,OAab7F,EAAStD,OAEbkJ,EAAc,IAfG,2CAAH,sDAkBlB,OACE,sBAAK5H,UAAU,mBAAf,UACE,kDACA,qBAAKA,UAAU,mBAAf,SACE,6BACGU,EAAQ6D,SAAS9D,OAAS,GACzBC,EAAQ6D,SAAStE,KAAI,SAACgI,GAAD,OACnB,+BACE,sBAAKjI,UAAU,iBAAf,UACE,cAAC,EAAD,CAAQK,IAAK4H,EAAQhH,WACrB,4BAAIgH,EAAQ/D,iBAEd,qBAAKlE,UAAU,gBAAf,SACE,4BAAIkI,YAAoBD,EAAQ3F,UAAUxB,SAAS,CAC3CqH,WAAU,QAEpB,qBAAKnI,UAAU,mBAAf,SAAmCiI,EAAQH,YATpCG,EAAQH,gBAezB,uBAAM9H,UAAU,eAAewE,SAAUL,EAAzC,UACE,kCACE,mDACA,0BACEM,UAAQ,EACRC,SAAU,SAACN,GAAD,OAAOwD,EAAcxD,EAAEO,OAAO7G,QACxCA,MAAO6J,OAGX,wBAAQ3H,UAAU,MAAlB,+BCrDK,SAASoI,IACpB,IACA,ECNuB,SAAChK,EAAYuB,GACpC,MAAiCpB,mBAAS,MAA1C,mBAAQ8C,EAAR,KAAkBgH,EAAlB,KACA,EAA2B9J,mBAAS,MAApC,mBAAQG,EAAR,KAAeC,EAAf,KAgCA,OA3BAnB,qBAAU,WAEN,IAEK0B,EAFO9C,EAAiBgC,WAAWA,GAAYoB,IAAIG,GAEjCR,YAAW,SAACC,GAE5BA,EAASM,QACR2I,EAAY,2BAAKjJ,EAASM,QAAf,IAAuBC,GAAIP,EAASO,MAC/ChB,EAAS,OAGTA,EAAS,8BAKd,SAACD,GACAf,QAAQC,IAAIc,GACZC,EAAS,6BAKb,OAAO,kBAAMO,OAEd,CAACd,EAAYuB,IAET,CAAE0B,WAAU3C,SD5BS4J,CAAY,WADzBC,cAAP5I,IACAjB,EAAR,EAAQA,MAAO2C,EAAf,EAAeA,SAEf,OAAG3C,EACQ,qBAAKsB,UAAU,QAAf,SAAwBtB,IAG/B2C,EAKA,sBAAKrB,UAAU,kBAAf,UACI,cAACyH,EAAD,CAAgB/G,QAASW,IACzB,cAACqG,EAAD,CAAiBhH,QAASW,OANvB,qBAAKrB,UAAU,UAAf,wB,gBEjBA,MAA0B,gCCQ1B,SAASwI,IAEpB,MCNqB,WACvB,MAAsCjK,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KACA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOqD,EAAP,KAAkBwD,EAAlB,KACA,EAA2BrH,IAAnBR,EAAR,EAAQA,SAAUN,EAAlB,EAAkBA,KAEZwL,EAAM,uCAAG,4BAAApG,EAAA,6DACb1D,EAAS,MACTyG,GAAa,GAFA,SAQH5D,EAAQvE,EAARuE,IARG,SASLpF,EAAiBgC,WAAW,SAASoB,IAAIgC,GAAKwB,OAAO,CAAEwC,QAAQ,IAT1D,uBAULlJ,EAAYoM,UAVP,OAaXnL,EAAS,CAAEP,KAAM,WAGZiF,IACHmD,GAAa,GACbzG,EAAS,OAlBA,kDAqBNsD,IACHtD,EAAS,KAAIgE,SACbyC,GAAa,IAvBJ,0DAAH,qDAgCZ,OAJA5H,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEuG,SAAQ/J,QAAOkD,aDhCQ+G,GAAtBF,EAAR,EAAQA,OAAQ7G,EAAhB,EAAgBA,UACR3E,EAASc,IAATd,KACR,OACE,qBAAK+C,UAAU,SAAf,SACE,+BACE,qBAAIA,UAAU,OAAd,UACE,qBAAKK,IAAKuI,EAAKtI,IAAI,SACnB,+DAEArD,GACA,6BAIDA,GACD,gCACM2E,GAAa,wBAAQ5B,UAAU,MAAKG,QAASsI,EAAhC,qBACd7G,GAAa,wBAAQ5B,UAAU,MAAK0F,UAAQ,EAA/B,oC,ME3BrB,ICAQ,MAA0B,qCCA1B,MAA0B,2CCA1B,MAA0B,uCCY1B,SAASmD,IAEpB,IAAMC,EJdiB,WACzB,IAAMC,EAAOC,SAAS,GAAD,QAAI,IAAIxG,MAAOyG,aAIlC,OAAIF,EAAO,GACQ,eAETA,EAAO,GACC,iBAGA,eIEDG,GACTjM,EAASc,IAATd,KAGR,OACE,qBAAK+C,UAAU,UAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,CAAQK,IAAK8I,IACb,8BACGL,EADH,KACe7L,EAAKiH,kBAGtB,qBAAKlE,UAAU,QAAf,SACE,+BACE,6BACE,eAAC,IAAD,CAASW,GAAG,IAAZ,UACE,qBAAKN,IAAK+I,EAAe9I,IAAI,mBAC7B,kDAGJ,6BACE,eAAC,IAAD,CAASK,GAAG,UAAZ,UACE,qBAAKN,IAAKgJ,EAAS/I,IAAI,qBACvB,yDAGJ,6BACE,eAAC,IAAD,CAASK,GAAG,gBAAZ,UACE,qBAAKN,IAAKgJ,EAAS/I,IAAI,qBACvB,uDAGJ,6BACE,eAAC,IAAD,CAASK,GAAG,qBAAZ,UACE,qBAAKN,IAAKgJ,EAAS/I,IAAI,qBACvB,sE,MC3CH,SAASgJ,IAEpB,MAA6BnL,EAAc,SAAnCK,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MAEnB,OACI,sBAAKsB,UAAU,YAAf,UACI,2CACCtB,GAAS,qBAAKsB,UAAU,QAAf,SAAwBtB,IACjCF,GAAaA,EAAUyB,KAAI,SAAAhD,GAAI,OAC5B,sBAAmB+C,UAAU,iBAA7B,UACK,sBAAMA,UAAW/C,EAAKuI,OAAS,cAAgB,iBAChD,+BAAOvI,EAAKsJ,YACZ,cAAC,EAAD,CAAQlG,IAAKkJ,MAHPtM,EAAK0C,U,YChBhB,SAAS6J,EAAT,GAAyD,IAAjCC,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,WAAY5L,EAAS,EAATA,MAC1D,OACE,kCACE,+BAAO2L,IACP,uBACEhF,UAAQ,EACRkF,IAAI,IACJ3M,KAAK,SACL0H,SAAWgF,EACX5L,MAAQA,O,MCEH,SAAS8L,IAEtB,MAAkC7H,EAAa,aAAvCK,EAAR,EAAQA,YAAaJ,EAArB,EAAqBA,SACrB,EAAwBzD,mBAAS,IAAjC,mBAAOsL,EAAP,KAAaC,EAAb,KACQ7M,EAASc,IAATd,KACF+G,EAAWC,cAEjB,EAAwC1F,mBAAS,IAAjD,mBAAOwL,EAAP,KAAqBC,EAArB,KACA,EAAwCzL,mBAAS,IAAjD,mBAAO0L,EAAP,KAAqBC,EAArB,KACA,EAAwC3L,mBAAS,IAAjD,mBAAO4L,EAAP,KAAqBC,EAArB,KACA,EAAwC7L,mBAAS,IAAjD,mBAAO8L,EAAP,KAAqBC,EAArB,KAEA,EAAoC/L,mBAAS,IAA7C,mBAAOgM,EAAP,KAAmBC,EAAnB,KACA,EAAoCjM,mBAAS,IAA7C,mBAAOkM,EAAP,KAAmBC,EAAnB,KACA,EAAoCnM,mBAAS,IAA7C,mBAAOoM,EAAP,KAAmBC,EAAnB,KACA,EAAoCrM,mBAAS,IAA7C,mBAAOsM,EAAP,KAAmBC,EAAnB,KAEA,EAAoCvM,mBAAS,IAA7C,mBAAOwM,EAAP,KAAmBC,GAAnB,KACA,GAAoCzM,mBAAS,IAA7C,qBAAO0M,GAAP,MAAmBC,GAAnB,MACA,GAAoC3M,mBAAS,IAA7C,qBAAO4M,GAAP,MAAmBC,GAAnB,MACA,GAAoC7M,mBAAS,IAA7C,qBAAO8M,GAAP,MAAmBC,GAAnB,MA0BMnH,GAAY,uCAAG,WAAOC,GAAP,iBAAA/B,EAAA,6DACnB+B,EAAEC,eAAeD,GACXmH,EAAU,CACdrH,YAAajH,EAAKiH,YAClBvE,GAAI1C,EAAKuE,KAGLgK,EAAe,CACnBD,UACAE,eAAgB5B,EAChB6B,QAAS,CACPC,UAAW,CACTxB,eACAQ,aACAQ,eAEFS,UAAW,CACTvB,eACAQ,aACAQ,eAEFQ,YAAa,CACX9B,eACAQ,aACAQ,cAEFe,YAAa,CACX7B,eACAQ,aACAQ,iBA7Ba,SAmCb7I,EAAYoJ,GAnCC,OAqCfxJ,EAAStD,MAkBXqN,IAAMrN,MAAM,yCAjBZqN,IAAMlK,QAAQ,oBAGdiI,EAAQ,IACRE,EAAgB,IAChBE,EAAgB,IAChBE,EAAgB,IAChBE,EAAgB,IAChBE,EAAc,IACdE,EAAc,IACdE,EAAc,IACdE,EAAc,IACdE,GAAc,IACdE,GAAc,IACdE,GAAc,IACdE,GAAc,KArDG,2CAAH,sDAkElB,OACE,qCACE,8BACE,cAAC,IAAD,CACEU,SAAS,gBACTC,cAAc,EACdC,OAAQ,EACRC,mBAAmB,GACnBC,eAAgB,CACdJ,SAAU,WACVK,OAAQ,SAEVC,aAAc,CAEZtM,UAAW,GACXuM,SAAU,IACVC,MAAO,CACLC,WAAY,OACZ5G,MAAO,QAEP6G,OAAQ,OACRC,aAAc,QAGhB9K,QAAS,CACP+K,UAAW,CACTC,QAAS,QACTC,UAAW,WAEbP,SAAU,IACVC,MAAO,CACLC,WAAY,UACZ5G,MAAO,QAETkH,MAAO,CACLF,QAAS,GACTC,UAAW,UAGfpO,MAAO,CACLkO,UAAW,CACTC,QAAS,QACTC,UAAW,WAEbP,SAAU,IACVC,MAAO,CACLC,WAAY,UACZ5G,MAAO,cAUjB,0DACA,qBAAK7F,UAAU,mBAAf,SACE,uBAAMwE,SAAUL,GAAhB,UACE,sBAAKnE,UAAU,WAAf,UACE,uBAAOgN,QAAQ,YAAYhN,UAAU,aAArC,SACE,4FAIF,uBACEL,GAAG,YACH8E,UAAQ,EACRzH,KAAK,OACL0H,SAAU,SAACN,GAAD,OAAO0F,EAAQ1F,EAAEO,OAAO7G,QAClCA,MAAO+L,OAIX,sBAAK7J,UAAU,eAAf,UACE,qCACE,wBAAQA,UAAU,YAAlB,wBACA,sBAAKA,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,eACV3L,MAAOiM,EACPL,WA5KW,SAACtF,GAAD,OAAO4F,EAAgBhB,SAAS5E,EAAEO,OAAO7G,WA8KtD,cAAC0L,EAAD,CACEC,UAAU,eACV3L,MAAOmM,EACPP,WAhLW,SAACtF,GAAD,OAAO8F,EAAgBlB,SAAS5E,EAAEO,OAAO7G,cAmLxD,sBAAKkC,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,aACV3L,MAAOqM,EACPT,WAtLW,SAACtF,GAAD,OAAOgG,EAAgBpB,SAAS5E,EAAEO,OAAO7G,WAwLtD,cAAC0L,EAAD,CACEC,UAAU,aACV3L,MAAOuM,EACPX,WA1LW,SAACtF,GAAD,OAAOkG,EAAgBtB,SAAS5E,EAAEO,OAAO7G,iBA8L1D,qCACE,wBAAQkC,UAAU,QAAlB,iBACA,sBAAKA,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,gBACV3L,MAAOyM,EACPb,WAnMS,SAACtF,GAAD,OAAOoG,EAAcxB,SAAS5E,EAAEO,OAAO7G,WAqMlD,cAAC0L,EAAD,CACEC,UAAU,eACV3L,MAAO2M,EACPf,WAvMS,SAACtF,GAAD,OAAOsG,EAAc1B,SAAS5E,EAAEO,OAAO7G,cA0MpD,sBAAKkC,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,cACV3L,MAAO6M,EACPjB,WA7MS,SAACtF,GAAD,OAAOwG,EAAc5B,SAAS5E,EAAEO,OAAO7G,WA+MlD,cAAC0L,EAAD,CACEC,UAAU,aACV3L,MAAO+M,EACPnB,WAjNS,SAACtF,GAAD,OAAO0G,EAAc9B,SAAS5E,EAAEO,OAAO7G,iBAqNtD,qCACE,wBAAQkC,UAAU,UAAlB,qBACA,sBAAKA,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,eACV3L,MAAOiN,EACPrB,WA1NS,SAACtF,GAAD,OAAO4G,GAAchC,SAAS5E,EAAEO,OAAO7G,WA4NlD,cAAC0L,EAAD,CACEC,UAAU,eACV3L,MAAOmN,GACPvB,WA9NS,SAACtF,GAAD,OAAO8G,GAAclC,SAAS5E,EAAEO,OAAO7G,cAiOpD,sBAAKkC,UAAU,kBAAf,UACE,cAACwJ,EAAD,CACEC,UAAU,aACV3L,MAAOqN,GACPzB,WApOS,SAACtF,GAAD,OAAOgH,GAAcpC,SAAS5E,EAAEO,OAAO7G,WAsOlD,cAAC0L,EAAD,CACEC,UAAU,aACV3L,MAAOuN,GACP3B,WAxOS,SAACtF,GAAD,OAAOkH,GAActC,SAAS5E,EAAEO,OAAO7G,oBA6OxD,sBAAKkC,UAAU,gBAAf,UACE,wBAAQA,UAAU,yBAAlB,4BACA,wBACEA,UAAU,yBACVG,QAzKe,SAACiE,GAC1BA,EAAEC,iBACFL,EAAS,mBAqKD,qC,MCzRG,SAASiJ,KACpB,OACI,8BACI,uDCLG,SAASC,KACpB,OACI,8BACI,mDCuFGC,OAvEf,WAEA,MAA8BpP,IAAtBd,EAAR,EAAQA,KAAME,EAAd,EAAcA,YAEZ,OACE,qBAAK6C,UAAU,MAAf,SACG7C,GACC,eAAC,IAAD,WACGF,GAAQ,cAAC,EAAD,IACT,sBAAK+C,UAAU,YAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CACEoN,KAAK,IACLC,QACGpQ,GAAQ,cAAC,EAAD,MAAoBA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,aAGtD,cAAC,IAAD,CACEyM,KAAK,UACLC,QACGpQ,GAAQ,cAAC,EAAD,MAAiBA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,aAGnD,cAAC,IAAD,CACEyM,KAAK,SACLC,SAAWpQ,GAAQ,cAAC,EAAD,KAAeA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,QAGzD,cAAC,IAAD,CACEyM,KAAK,cACLC,QACGpQ,GAAQ,cAAC,EAAD,MAAqBA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,QAGvD,cAAC,IAAD,CACEyM,KAAK,eACLC,QACGpQ,GAAQ,cAAC,EAAD,MAAkBA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,aAGpD,cAAC,IAAD,CACEyM,KAAK,gBACLC,QACGpQ,GAAQ,cAAC2M,EAAD,MACP3M,GAAQ,cAAC,IAAD,CAAU0D,GAAG,aAG3B,cAAC,IAAD,CACEyM,KAAK,qBACLC,QACGpQ,GAAQ,cAAC,GAAD,MACPA,GAAQ,cAAC,IAAD,CAAU0D,GAAG,aAG3B,cAAC,IAAD,CACEyM,KAAK,iBACLC,QACGpQ,GAAQ,cAACiQ,GAAD,MACPjQ,GAAQ,cAAC,IAAD,CAAU0D,GAAG,mBAK9B1D,GAAQ,cAAC,EAAD,UC7EnBqQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,GAAD,QAGJnM,SAASoM,eAAe,W","file":"static/js/main.e24f6966.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDyGjhXm_Hie8Zv5_XOA82hU7AuksN9l0c\",\n  authDomain: \"obpg-app.firebaseapp.com\",\n  projectId: \"obpg-app\",\n  storageBucket: \"obpg-app.appspot.com\",\n  messagingSenderId: \"130951808681\",\n  appId: \"1:130951808681:web:2d6894969c853bbfca4bb8\",\n  measurementId: \"G-YQRVNEED1N\"\n};\n\n// initilise firebase\nfirebase.initializeApp(firebaseConfig)\n\n// initilise services\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\nconst projectStorage = firebase.storage()\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp\n\n\n\nexport { projectFirestore, projectAuth, timestamp, projectStorage }","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","// **must specify collection when importing this and creating const in component**\n\n\nimport { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _orderBy, _query) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  \n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n  \n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(orderBy)// changed from ...orderby\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","const filterList =['all', 'mine', 'development', 'sales', 'marketing', 'design']\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n    \n    const handleClick = (newFilter) => {\n        changeFilter(newFilter)\n    }\n\n    return (\n      <div className=\"project-filter\">\n        <nav>\n          <p>Filter by: </p>\n          {filterList.map((f) => (\n            <button\n              className={currentFilter === f ? \"active\" : \"\"}\n              key={f}\n              onClick={() => handleClick(f)}\n            >\n              {f}\n            </button>\n          ))}\n        </nav>\n      </div>\n    );\n}\n","import './Avatar.css'\n\nexport default function Avatar({ src }) {\n    return (\n        <div className='avatar'>\n            <img src={src} alt='user avatar'></img>\n            \n        </div>\n    )\n}\n","import { Link } from 'react-router-dom';\nimport Avatar from './Avatar'\nimport './ProjectList.css'\n\nexport default function ProjectList({ projects }) {\n    return (\n      <div className='project-list'>\n        {projects.length === 0 && <p>No projects to show</p>}\n        {projects.map((project) => (\n          <Link to={`/project/${project.id}`}key={project.id} >\n              <h4>{project.name}</h4>\n              <p>due by {project.dueDate.toDate().toDateString()}</p>\n              <div className=\"assigned-to\">\n                  <ul>\n                  {project.assignedUsersList.map(user => (\n                      <li key={user.photoURL}>\n                          <Avatar src={user.photoURL}/>\n                      </li>\n                  ))}\n                  </ul>\n              </div>\n          </Link>\n        ))}\n      </div>\n    );\n}\n","import { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react';\nimport { useAuthContext\n } from '../../hooks/useAuthContext';\nimport ProjectFilter from \"./ProjectFilter\"\nimport ProjectList from \"../../components/ProjectList\";\n\n// styles\nimport './Dashboard.css'\n\nexport default function Dashboard() {\n    const { user } = useAuthContext()\n    const [filter, setFilter] = useState(\"all\"); \n    const { documents, error } = useCollection('projects')\n\n    const changeFilter = (newFilter) => {\n        setFilter(newFilter)\n    }\n    // need to check if we have documents before we filter with terniary\n    const projects = documents ? documents.filter((document) => {\n        switch (filter) {\n            case 'all':\n                return true\n            case 'mine':\n                let assignedToMe = false\n                document.assignedUsersList.forEach(u => {\n                    if(user.uid === u.id){\n                        assignedToMe = true\n                    }\n                })\n                return assignedToMe\n            case 'development':\n            case 'design':\n            case 'sales':\n            case 'marketing':\n                return document.category === filter\n            default:\n                return true\n            }\n        }) : null\n    \n        return (\n            <div>\n                <h2 className=\"title\">Dashboard</h2>\n                {error && <p className='error'>{error}</p>}\n                {documents && <ProjectFilter currentFilter={filter} changeFilter={changeFilter}/>}\n                {projects && <ProjectList projects={projects}/>}\n            </div>\n            )\n        }\n\n\n","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'UPDATED_DOCUMENT':\n      return { isPending:false, document: action.payload, success: true, error: null}\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  // update document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING'})\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: 'UPDATED_DOCUMENT', payload: updatedDocument})\n      return updatedDocument\n    }\n    catch (err){\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message})\n      return null\n\n    }\n\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}\n","import { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport Select from 'react-select'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useCollection } from '../../hooks/useCollection'\nimport { timestamp } from '../../firebase/config'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n// styles\nimport './Create.css'\n\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n]\n\nexport default function Create() {\n  // form field values\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n  // const [thumbnail, setThumbnail] = useState(null);\n  // const [thumbnailError, setThumbnailError] = useState(null);\n\n  const { addDocument, response } = useFirestore('projects')\n  const { documents } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n  const { user } = useAuthContext()\n  const navigate = useNavigate()\n\n  // create user values for react-select\n  useEffect(() => {\n    if (documents) {\n      setUsers(\n        documents.map((user) => {\n          return { value: { ...user, id: user.id }, label: user.displayName };\n        })\n      );\n    }\n  }, [documents]);\n\n  // Code for file upload\n  //  const handleFileChange = (e) => {\n  //    setThumbnail(null);\n  //    let selected = e.target.files[0];\n  //    console.log(selected);\n\n  //    if (!selected) {\n  //      setThumbnailError(\"Please select a file\");\n  //      return;\n  //    }\n  //    if (!selected.type.includes(\"image\")) {\n  //      setThumbnailError(\"Selected file must be an image\");\n  //      return;\n  //    }\n  //    if (selected.size > 100000) {\n  //      setThumbnailError(\"Image file size must be less than 100kb\");\n  //      return;\n  //    }\n\n  //    setThumbnailError(null);\n  //    setThumbnail(selected);\n  //  };\n\n   \n     /* <label>\n        <span>profile thumbnail:</span>\n        <input required type=\"file\" onChange={handleFileChange} />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label> */\n   \n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setFormError(null)\n\n    if(!category) {\n        setFormError('Please select a Project Category')\n        return\n    }\n\n    if (assignedUsers.length < 1) {\n      setFormError(\"Please assign at least one user to the project\");\n      return\n    }\n\n    // create an object for user who has created project using info from auth context\n    const createdBy = {\n        displayName: user.displayName,\n        photoURL: user.photoURL,\n        id: user.uid\n    }\n\n    // clean up data from user object to get info we need\n    const assignedUsersList = assignedUsers.map((u) => {\n        return {\n            displayName: u.value.displayName,\n            photoURL: u.value.photoURL,\n            id: u.value.id\n        }\n      })\n\n    // create doc and save to firestore here\n    const project = {\n      name: name, //can be shortened to just name\n      details: details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)), //creates new timestamp from date given to fn\n      comments: [],\n      createdBy: createdBy,\n      assignedUsersList: assignedUsersList\n    };\n    \n    await addDocument(project) // so waits here while addDocument completes\n\n    if(!response.error){\n      navigate('/')\n    }\n  };\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"title\">Add CPD Record</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>CPD Learning Title:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>What did you learn and how did you learn?</span>\n          <textarea\n            required\n            type=\"text\"\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Date completed</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Learning Category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n        <button className=\"btn\">Add Project</button>\n        {formError && <p className='error'>{formError}</p>}\n      </form>\n    </div>\n  );\n}\n\n","// styles\nimport { useState, } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\nimport './Login.css'\n\nexport default function Login() {\n\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const { login, isPending, error } = useLogin();\n\n    const handleSubmit = (e) =>{\n        e.preventDefault()\n        login(email, password);\n    }\n\n    return (\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <h2>Log in</h2>\n        <label>\n          <span>email:</span>\n          <input\n            required\n            type=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n        </label>\n        <label>\n          <span>password:</span>\n          <input\n            required\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <span className='forgot-pwd'>Forgot Password?</span>\n        </label>\n        \n        {!isPending && <button className=\"btn\">Log in</button>}\n        {isPending && (<button disabled className=\"btn\">Loading...</button>)}\n        {error && <div className=\"error\">{error}</div>}\n      </form>\n    );\n}\n","import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const navigate = useNavigate()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // update online status\n      await projectFirestore.collection(\"users\")\n      .doc(res.user.uid).update({online: true});\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n        navigate('/')\n        \n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  \n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\n// import { useAuthContext } from './useAuthContext'\n\nexport const useCreateUser = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  // const { dispatch } = useAuthContext()\n\n  const createUser = async (\n    email,\n    password,\n    firstName,\n    lastName,\n    branch,\n    role,\n    createdBy,\n    isActive\n  ) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup (this creates new user within firebase)\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password);\n\n      // if no response(e.g. network problem) handle the error\n      if (!res) {\n        throw new Error(\"Could not create user, please try again\");\n      }\n\n      // upload user thumbnail\n      // const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      // const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      // const imgURL = await img.ref.getDownloadURL()\n\n      // add display name to user using updateProfile of above newly created user\n      await res.user.updateProfile({ displayName: firstName });\n\n      // create user document in database\n      await projectFirestore.collection(\"users\").doc(res.user.uid).set({\n        online: false,\n        firstName,\n        lastName,\n        branch,\n        role,\n        createdBy,\n        isActive\n      });\n\n      // dispatch login action to update global auth context so will have access to this user\n      // in whole application\n      // dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { createUser, error, isPending }\n}","import { useState, useEffect } from \"react\"\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { useCreateUser } from \"../../hooks/useCreateUser\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { timestamp } from \"../../firebase/config\";\nimport Select from \"react-select\";\n\n\n// styles\nimport \"./CreateUser.css\";\n// select box styles\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n    color: state.isSelected ? \"white\" : \"#inherit\",\n    backgroundColor: state.isSelected ? \"#4CAA3C\" : \"white\",\n    \":hover\": {\n      backgroundColor: \"#4caa3c2b\",\n      color: \"inherit\",\n    },\n  }),\n  valueContainer: (provided, state) => ({\n    ...provided,\n    \":focusVisible\": {\n      outline: \"#4caa3c 3px solid\",\n    },\n    padding: \"0px 8px\",\n  }),\n  control: (provided, state) => ({\n    ...provided,\n\n    \":hover\": {\n      borderColor: \"#4CAA3C\",\n    },\n  }),\n};\n\nconst branches = [\n  { value: \"Albert Wilde\", label: \"Albert Wilde Pharmacy\" },\n  { value: \"Bispham\", label: \"Bispham Pharmacy\" },\n  { value: \"Burscough\", label: \"Burscough Pharmacy\" },\n  { value: \"Cleveleys\", label: \"Cleveleys Pharmacy\" },\n  { value: \"CleveleysHC\", label: \"Cleveleys HC Pharmacy\" },\n  { value: \"FleetwoodHC\", label: \"Fleetwood HC Pharmacy\" },\n  { value: \"HeadOffice\", label: \"Head Office\" },\n  { value: \"MillLane\", label: \"Mill Lane Pharmacy\" },\n  { value: \"Riverside\", label: \"Riverside Pharmacy\" },\n  { value: \"Warburtons\", label: \"Warburtons Chemists\" },\n];\n\nexport default function CreateUser() {\n  \n  const { user } = useAuthContext();\n  const { documents } = useCollection(\"roles\", 'id');\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\")\n  const [roleList, setRoleList] = useState([])\n  const [branch, setBranch] = useState(\"\")\n  const [formError, setFormError] = useState(null)\n  const [isActive, setIsActive] = useState(true)\n\n\n  const { createUser, isPending, error } = useCreateUser();\n\n  // create user values for role select box\n  useEffect(() => {\n    \n    if (documents) {\n      setRoleList(\n        documents.map((role) => {\n          return { value:role.name , label: role.name };\n        })\n      );\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    if (!branch) {\n      setFormError(\"Please select a branch\");\n      return;\n    }\n\n    if (!role) {\n      setFormError(\"Please select a role\");\n      return;\n    }\n\n    // create an object for user who has created project using info from auth context\n    const createdBy = {\n      name: user.displayName,\n      id: user.uid,\n      createdAt: timestamp.fromDate(new Date()), //creates new timestamp from date given to fn\n    };\n    \n    await createUser(email, password, firstName, lastName, branch, role, createdBy, isActive); // so waits here while addDocument completes\n\n    if(!error){\n      setFirstName('')\n      setLastName('')\n      setEmail('')\n      setPassword('')\n      \n      setRole(null)\n      setBranch(null)\n    }\n  };;\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Create New User</h2>\n      <div className=\"form-container\">\n        <div className=\"form-column\">\n          <label>\n            <span>first name:</span>\n            <input\n              required\n              type=\"text\"\n              onChange={(e) => setFirstName(e.target.value)}\n              value={firstName}\n            />\n            </label>\n          <label>\n            <span>last name:</span>\n            <input\n              required\n              type=\"text\"\n              onChange={(e) => setLastName(e.target.value)}\n              value={lastName}\n            />\n          </label>\n          <label>\n            <span>email:</span>\n            <input\n              autoComplete=\"new-password\"\n              name=\"email\"\n              required\n              type=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n            />\n          </label>\n          <label>\n            <span>temporary password:</span>\n            <input\n              autoComplete=\"new-password\"\n              name=\"password\"\n              required\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n          </label>\n        </div>\n        <div className=\"form-column\">\n          <label>\n            <span>branch:</span>\n            <Select\n              styles={customStyles}\n              options={branches}\n              onChange={(option) => setBranch(option.value)}\n            />\n          </label>\n          <label>\n            <span>role:</span>\n            <Select\n              styles={customStyles}\n              options={roleList}\n              onChange={(option) => setRole(option.value)}\n            />\n          </label>\n        </div>\n      </div>\n\n      {!isPending && <button className=\"btn\">Create User</button>}\n      {isPending && (\n        <button disabled className=\"btn\">\n          Loading\n        </button>\n      )}\n      {formError && <p className=\"error\">{formError}</p>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useFirestore } from '../../hooks/useFirestore';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport React from 'react'\nimport Avatar from '../../components/Avatar'\nimport { useNavigate } from 'react-router';\n\n\nexport default function ProjectSummary({ project }) {\n\n    const { deleteDocument } = useFirestore('projects')// to access hook to delete doc\n    const { user } = useAuthContext() // to access logged in user\n    const navigate = useNavigate()\n\n    const handleClick = (e) => {\n        // have access to id on project object above\n        deleteDocument(project.id)\n        navigate('/')\n\n    }\n    return (\n      <div>\n        <div className=\"project-summary\">\n          <h2 className=\"page-title\">{project.name}</h2>\n          <p>Created by: {project.createdBy.displayName} </p>\n          <p className=\"due-date\">\n            Project due by: {project.dueDate.toDate().toDateString()}\n          </p>\n          <p className=\"details\">{project.details}</p>\n\n          <h4>Project is assigned to:</h4>\n          <div className=\"assigned-users\">\n            {project.assignedUsersList.map((user) => (\n              <div key={user.id}>\n                <Avatar src={user.photoURL} />\n              </div>\n            ))}\n          </div>\n        </div>\n        {/* Checks current logged in user(user.uid) is the creator of project(project.createdBy.id) and and only allows\n         the user who created project to delete it*/}\n        {user.uid === project.createdBy.id && (\n          <button onClick={handleClick} className=\"btn\">\n            Mark as complete\n          </button>\n        )}\n      </div>\n    );\n}\n","import { useState } from \"react\"\nimport Avatar from \"../../components/Avatar\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nexport default function ProjectComments({ project }) {\n    const { updateDocument, response } = useFirestore('projects')\n    const [newComment, setNewComment] =useState('')\n    const { user } = useAuthContext()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n\n        const commentToAdd = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            content: newComment,\n            createdAt: timestamp.fromDate(new Date()),\n            id: Math.random()\n        }\n        await updateDocument(project.id, {\n            comments: [...project.comments, commentToAdd]\n        })\n        if(!response.error) {\n        //reset form state to remove added comment\n        setNewComment('')\n        }\n    }\n    return (\n      <div className=\"project-comments\">\n        <h4>Project Comments</h4>\n        <div className=\"comments-section\">\n          <ul>\n            {project.comments.length > 0 &&\n              project.comments.map((comment) => (\n                <li key={comment.content}>\n                  <div className=\"comment-author\">\n                    <Avatar src={comment.photoURL} />\n                    <p>{comment.displayName}</p>\n                  </div>\n                  <div className=\"comment-dates\">\n                    <p>{formatDistanceToNow(comment.createdAt.toDate(),{ \n                            addSuffix:true })}</p>\n                  </div>\n                  <div className=\"comments-content\">{comment.content}</div>\n                </li>\n              ))}\n          </ul>\n        </div>\n\n        <form className=\"add-comments\" onSubmit={handleSubmit}>\n          <label>\n            <span>Add new comment</span>\n            <textarea\n              required\n              onChange={(e) => setNewComment(e.target.value)}\n              value={newComment}\n            ></textarea>\n          </label>\n          <button className=\"btn\">Add Comment</button>\n        </form>\n      </div>\n    );\n}\n","import { useDocument } from '../../hooks/useDocument'\nimport { useParams } from 'react-router'\n\n// styles\nimport './Project.css'\nimport ProjectSummary from './ProjectSummary'\nimport ProjectComments from './ProjectComments'\n\nexport default function Project() {\n    const { id } = useParams()\n    const { error, document } = useDocument('projects', id)\n\n    if(error) {\n        return <div className='error'>{error}</div>\n    }\n\n    if(!document) {\n        return <div className='loading'>Loading...</div>\n    }\n\n    return (\n        <div className='project-details'>\n            <ProjectSummary project={document}/>\n            <ProjectComments project={document}/>\n        </div>\n    )\n}\n","import { useState, useEffect } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\n// two arguments, need to specify collection we want to get document from and document id\nexport const useDocument = (collection, id) => {\n    const [ document, setDocument] = useState(null)\n    const [ error, setError] = useState(null)\n\n    //real time data for document using useEffect\n    // to run once when loaded and then whenever document or id changes\n\n    useEffect(() => {\n\n        const ref = projectFirestore.collection(collection).doc(id)\n\n       const unsubscribe = ref.onSnapshot((snapshot) => {\n        // check to see if document has data has an\n            if(snapshot.data()) {\n                setDocument({ ...snapshot.data(), id: snapshot.id });\n                setError(null);\n            }\n            else {\n                setError('No such document exists')\n            }\n\n            \n            //if error 2nd argument is where its returned\n        }, (error) => {\n            console.log(error)\n            setError('failed to get document')\n        })\n\n        //unsubscribe, if move to another page, set onSnapshot to const variable and it fires if move away from page to stop the realtime connection \n\n        return () => unsubscribe()\n        \n    }, [collection, id])\n    //return document and any error\n    return { document, error }\n\n}","export default __webpack_public_path__ + \"static/media/OBP.82a5e5be.svg\";","// import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\n\n// styles & images\nimport './Navbar.css'\nimport OBP from '../assets/OBP.svg'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nexport default function Navbar() {\n\n    const { logout, isPending } = useLogout()\n    const { user } = useAuthContext()\n    return (\n      <div className=\"navbar\">\n        <ul>\n          <li className=\"logo\">\n            <img src={OBP} alt=\"logo\" />\n            <span>O'Briens Pharmacy Group</span>\n          </li>\n          {!user && (\n            <>\n                {/* <li><Link to=\"/login\">Login</Link></li> */}\n                {/* <li><Link to=\"/signup\">Sign Up</Link></li> */}\n            </>)}\n          {user && (\n          <li>\n              {!isPending && <button className=\"btn\"onClick={logout}>Log Out</button>}\n              {isPending && <button className=\"btn\"disabled>Logging Out...</button>}\n          </li>)}\n        </ul>\n      </div>\n    );\n}\n","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    // sign the user out\n    try {\n      //update online status to offline\n\n      const { uid } = user\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: \"LOGOUT\" });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export const useGreeting = () => {\n  const time = parseInt(`${new Date().getHours()}`);\n     \n    let greetingText\n    \n    if (time < 12){\n        greetingText = 'Good Morning'\n        return greetingText;\n    } else if(time < 18){\n        greetingText ='Good Afternoon'\n        return greetingText;\n    } else {\n        greetingText ='Good Evening'\n        return greetingText;\n    }\n  };\n","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/personIcon.a296afc6.svg\";","import { NavLink } from \"react-router-dom\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useGreeting } from \"../hooks/useGreeting\";\n\n\n// styles & icons\nimport \"./Sidebar.css\";\nimport AddIcon from \"../assets/add_icon.svg\";\nimport DashboardIcon from \"../assets/dashboard_icon.svg\";\nimport Avatar from \"./Avatar\";\nimport userIcon from '../assets/personIcon.svg'\n\nexport default function Sidebar() {\n\n    const greeting = useGreeting()\n    const { user } = useAuthContext()\n    \n    \n    return (\n      <div className=\"sidebar\">\n        <div className=\"sidebar-content\">\n          <div className=\"user\">\n            <Avatar src={userIcon} />\n            <p>\n              {greeting}, {user.displayName}\n            </p>\n          </div>\n          <nav className=\"links\">\n            <ul>\n              <li>\n                <NavLink to=\"/\">\n                  <img src={DashboardIcon} alt=\"dashboard icon\" />\n                  <span>Dashboard</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/create\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add New Learning</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/addRxFigures\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add Rx Figures</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/addServiceFigures\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add Service Figures</span>\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    );\n}\n","import { useCollection } from '../hooks/useCollection'\nimport img from '../assets/personIcon.svg'\nimport Avatar from './Avatar'\n\n//styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n\n    const { documents, error } = useCollection('users')\n    \n    return (\n        <div className='user-list'>\n            <h2>All Users</h2>\n            {error && <div className='error'>{error}</div>}\n            {documents && documents.map(user => (\n                <div key={user.id} className='user-list-item'>\n                    {<span className={user.online ? \"online-user\" : \"offline-user\"}></span> }\n                    <span>{user.firstName}</span>\n                    <Avatar src={img}/>\n                </div>\n            ))}\n\n            \n        </div>\n    )\n}\n","export default function RxFigureInput({inputName, onChangeFn, value }) {\n    return (\n      <label>\n        <span>{inputName}</span>\n        <input\n          required\n          min=\"0\"\n          type=\"number\"\n          onChange={ onChangeFn }\n          value={ value }\n        />\n      </label>\n    );\n}\n","import { useState } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport RxFigureInput from '../../components/RxFigureInput';\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { Navigate, useNavigate } from 'react-router';\n\n// styles\nimport './AddRxFigure.css'\n\n\nexport default function AddRxFigures() {\n\n  const { addDocument, response } = useFirestore('rxFigures')//need to specify a collection to store\n  const [date, setDate] = useState(\"\");\n  const { user } = useAuthContext();\n  const navigate = useNavigate()\n  \n  const [paperExForms, setPaperExForms] = useState(\"\");\n  const [paperExItems, setPaperExItems] = useState(\"\");\n  const [paperPdForms, setPaperPdForms] = useState(\"\");\n  const [paperPdItems, setPaperPdItems] = useState(\"\");\n\n  const [epsExForms, setEpsExForms] = useState(\"\");\n  const [epsExItems, setEpsExItems] = useState(\"\");\n  const [epsPdForms, setEpsPdForms] = useState(\"\");\n  const [epsPdItems, setEpsPdItems] = useState(\"\");\n\n  const [mdaExForms, setMdaExForms] = useState(\"\");\n  const [mdaExItems, setMdaExItems] = useState(\"\");\n  const [mdaPdForms, setMdaPdForms] = useState(\"\");\n  const [mdaPdItems, setMdaPdItems] = useState(\"\");\n\n  const paperExFormsChange = (e) => setPaperExForms(parseInt(e.target.value));\n  const paperExItemsChange = (e) => setPaperExItems(parseInt(e.target.value));\n  const paperPdFormsChange = (e) => setPaperPdForms(parseInt(e.target.value));\n  const paperPdItemsChange = (e) => setPaperPdItems(parseInt(e.target.value));\n  const epsExFormsChange = (e) => setEpsExForms(parseInt(e.target.value));\n  const epsExItemsChange = (e) => setEpsExItems(parseInt(e.target.value));\n  const epsPdFormsChange = (e) => setEpsPdForms(parseInt(e.target.value));\n  const epsPdItemsChange = (e) => setEpsPdItems(parseInt(e.target.value));\n  const mdsExFormsChange = (e) => setMdaExForms(parseInt(e.target.value));\n  const mdsExItemsChange = (e) => setMdaExItems(parseInt(e.target.value));\n  const mdsPdFormsChange = (e) => setMdaPdForms(parseInt(e.target.value));\n  const mdsPdItemsChange = (e) => setMdaPdItems(parseInt(e.target.value));\n\n//   // Handle Toast button\n//   const handleClick = (e) => {\n//     if(e === 'success'){\n//     toast.success(\"Rx Figures Submitted Succesfully\")\n//   } else if(e === 'error') {\n//     toast.error('There was a problem submitting figures, please try again')\n//   }\n// }\n\n  // create an object for user who has created project using info from auth context\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault(e);\n    const addedBy = {\n      displayName: user.displayName,\n      id: user.uid,\n    };\n    \n    const dailyFigures = {\n      addedBy,\n      dateForFigures: date,\n      figures: {\n        paidForms: {\n          paperPdForms,\n          epsPdForms,\n          mdaPdForms,\n        },\n        paidItems: {\n          paperPdItems,\n          epsPdItems,\n          mdaPdItems,\n        },\n        exemptForms: {\n          paperExForms,\n          epsExForms,\n          mdaExForms,\n        },\n        exemptItems: {\n          paperExItems,\n          epsExItems,\n          mdaExItems,\n        },\n      },\n    };\n\n    \n    await addDocument(dailyFigures)\n    \n    if(!response.error) {\n      toast.success(\"Rx Figures Added\");\n      //set all input states to empty strings\n     \n      setDate(\"\");\n      setPaperExForms(\"\");\n      setPaperExItems(\"\");\n      setPaperPdForms(\"\");\n      setPaperPdItems(\"\");\n      setEpsExForms(\"\");\n      setEpsExItems(\"\");\n      setEpsPdForms(\"\");\n      setEpsPdItems(\"\");\n      setMdaExForms(\"\");\n      setMdaExItems(\"\");\n      setMdaPdForms(\"\");\n      setMdaPdItems(\"\");\n    } else {\n      toast.error('There was an error, please try again')\n    }\n  };\n\n  const handleViewBtnClick = (e) => {\n    e.preventDefault()\n    navigate('/viewrxfigures')\n\n  }\n  \n\n  return (\n    <>\n      <div>\n        <Toaster\n          position=\"bottom-center\"\n          reverseOrder={false}\n          gutter={8}\n          containerClassName=\"\"\n          containerStyle={{\n            position: \"absolute\",\n            bottom: \"100px\",\n          }}\n          toastOptions={{\n            // Define default options\n            className: \"\",\n            duration: 5000,\n            style: {\n              background: \"#fff\",\n              color: \"black\",\n\n              height: \"50px\",\n              borderRadius: \"10px\",\n            },\n            // Default options for specific types\n            success: {\n              iconTheme: {\n                primary: \"white\",\n                secondary: \"#4CAA3C\",\n              },\n              duration: 5000,\n              style: {\n                background: \"#4CAA3C\",\n                color: \"#fff\",\n              },\n              theme: {\n                primary: \"\",\n                secondary: \"white\",\n              },\n            },\n            error: {\n              iconTheme: {\n                primary: \"white\",\n                secondary: \"#FF6B47\",\n              },\n              duration: 5000,\n              style: {\n                background: \"#FF6B47\",\n                color: \"#fff\",\n              },\n              // theme: {\n              //   primary: \"red\",\n              //   secondary: \"white\",\n              // },\n            },\n          }}\n        />\n      </div>\n      <h2>Add Prescription Figures</h2>\n      <div className=\"add-figures-form\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"date-div\">\n            <label htmlFor=\"dateInput\" className=\"date-label\">\n              <span>\n                Please select a date for the figures you are entering:\n              </span>\n            </label>\n            <input\n              id=\"dateInput\"\n              required\n              type=\"date\"\n              onChange={(e) => setDate(e.target.value)}\n              value={date}\n            />\n          </div>\n\n          <div className=\"rx-container\">\n            <fieldset>\n              <legend className=\"fp10paper\">FP10 Paper</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Forms\"\n                  value={paperExForms}\n                  onChangeFn={paperExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={paperExItems}\n                  onChangeFn={paperExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Forms\"\n                  value={paperPdForms}\n                  onChangeFn={paperPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={paperPdItems}\n                  onChangeFn={paperPdItemsChange}\n                />\n              </div>\n            </fieldset>\n            <fieldset>\n              <legend className=\"token\">EPS</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Tokens\"\n                  value={epsExForms}\n                  onChangeFn={epsExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={epsExItems}\n                  onChangeFn={epsExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Tokens\"\n                  value={epsPdForms}\n                  onChangeFn={epsPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={epsPdItems}\n                  onChangeFn={epsPdItemsChange}\n                />\n              </div>\n            </fieldset>\n            <fieldset>\n              <legend className=\"fp10mda\">FP10MDA</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Forms\"\n                  value={mdaExForms}\n                  onChangeFn={mdsExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={mdaExItems}\n                  onChangeFn={mdsExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Forms\"\n                  value={mdaPdForms}\n                  onChangeFn={mdsPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={mdaPdItems}\n                  onChangeFn={mdsPdItemsChange}\n                />\n              </div>\n            </fieldset>\n          </div>\n          <div className=\"btn-container\">\n            <button className=\"btn submit-figures-btn\">Submit Figures</button>\n            <button \n              className=\"btn submit-figures-btn\"\n              onClick={handleViewBtnClick}>View figures</button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n","import './AddServiceFigures.css'\n\nexport default function AddServiceFigures() {\n    return (\n        <div>\n            <h2>Add Service Figures</h2>\n        </div>\n    )\n}\n\n","export default function ViewRxFigures() {\n    return (\n        <div>\n            <h2>View Rx Figures</h2>\n        </div>\n    )\n}\n","import { BrowserRouter, Route, Routes, Navigate } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n// styles\nimport './App.css'\n\n// pages & components\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport CreateUser from './pages/CreateUser/CreateUser'\nimport Project from './pages/project/Project';\nimport Admin from './pages/Admin/Admin'\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\nimport AddRxFigures from './pages/addRxFigures/AddRxFigures';\nimport AddServiceFigures from './pages/addServiceFigures/AddServiceFigures';\nimport ViewRxFigures from './pages/viewRxFigures/ViewRxFigures';\n\nfunction App() {\n\nconst { user, authIsReady } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  (user && <Dashboard />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/create\"\n                element={\n                  (user && <Create />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/login\"\n                element={(!user && <Login />) || (user && <Navigate to=\"/\" />)}\n              ></Route>\n\n              <Route\n                path=\"/createuser\"\n                element={\n                  (user && <CreateUser />) || (!user && <Navigate to=\"/\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/project/:id\"\n                element={\n                  (user && <Project />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/addRxFigures\"\n                element={\n                  (user && <AddRxFigures />) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/addServiceFigures\"\n                element={\n                  (user && <AddServiceFigures />) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/viewrxfigures\"\n                element={\n                  (user && <ViewRxFigures/>) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}