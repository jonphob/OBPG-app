{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","pages/dashboard/ProjectFilter.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","hooks/useCreateUser.js","pages/CreateUser/CreateUser.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","hooks/useLogout.js","assets/OBP.svg","components/Navbar.js","hooks/useGreeting.js","assets/viewFigs.svg","assets/add_icon.svg","assets/dashboard_icon.svg","assets/personIcon.svg","components/Sidebar.js","components/OnlineUsers.js","components/Toast.js","components/RxFigureInput.js","pages/addRxFigures/AddRxFigures.js","pages/addServiceFigures/AddServiceFigures.js","components/RxFiguresTable.js","pages/viewRxFigures/ViewRxFigures.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","projectFirestore","firestore","projectAuth","auth","timestamp","storage","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_orderBy","_query1","_query2","useState","documents","setDocuments","error","setError","isPending","setIsPending","orderBy","useRef","current","query1","query2","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","filterList","ProjectFilter","currentFilter","changeFilter","className","map","filter","onClick","Avatar","src","alt","ProjectList","projects","length","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","Dashboard","setFilter","document","assignedToMe","u","uid","category","newFilter","initialState","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","setName","details","setDetails","setDueDate","setCategory","assignedUsers","formError","setFormError","setUsers","navigate","useNavigate","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","options","Login","email","setEmail","password","setPassword","login","signInWithEmailAndPassword","result","online","useLogin","disabled","customStyles","provided","color","isSelected","backgroundColor","valueContainer","outline","padding","control","borderColor","branches","CreateUser","firstName","setFirstName","lastName","setLastName","role","setRole","roleList","setRoleList","branch","setBranch","isActive","setIsActive","createUser","createUserWithEmailAndPassword","res","updateProfile","set","useCreateUser","autoComplete","styles","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","Project","setDocument","useDocument","useParams","Navbar","logout","signOut","useLogout","OBP","Sidebar","greeting","time","parseInt","getHours","useGreeting","userIcon","DashboardIcon","AddIcon","ViewFigIcon","OnlineUsers","img","ToastModal","position","reverseOrder","gutter","containerClassName","containerStyle","bottom","toastOptions","duration","style","background","height","borderRadius","iconTheme","primary","secondary","theme","RxFigureInput","inputName","onChangeFn","min","width","AddRxFigures","date","setDate","branchList","setBranchList","paperExForms","setPaperExForms","paperExItems","setPaperExItems","paperPdForms","setPaperPdForms","paperPdItems","setPaperPdItems","epsExForms","setEpsExForms","epsExItems","setEpsExItems","epsPdForms","setEpsPdForms","epsPdItems","setEpsPdItems","mdaExForms","setMdaExForms","mdaExItems","setMdaExItems","mdaPdForms","setMdaPdForms","mdaPdItems","setMdaPdItems","addedBy","dailyFigures","dateForFigures","figures","paidForms","paidItems","exemptForms","exemptItems","toast","Toast","htmlFor","AddServiceFigures","RxFiguresTable","table","setTable","format","colSpan","override","css","ViewRxFigures","firstDay","getFullYear","getMonth","lastDay","startDate","setStartDate","endDate","setEndDate","dataPresent","setDataPresent","max","inputDate","year","month","handleDateInput","loading","size","speedMultiplier","margin","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5040b3c1.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDyGjhXm_Hie8Zv5_XOA82hU7AuksN9l0c\",\n  authDomain: \"obpg-app.firebaseapp.com\",\n  projectId: \"obpg-app\",\n  storageBucket: \"obpg-app.appspot.com\",\n  messagingSenderId: \"130951808681\",\n  appId: \"1:130951808681:web:2d6894969c853bbfca4bb8\",\n  measurementId: \"G-YQRVNEED1N\"\n};\n\n// initilise firebase\nfirebase.initializeApp(firebaseConfig)\n\n// initilise services\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\nconst projectStorage = firebase.storage()\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, timestamp, projectStorage }","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","// **must specify collection when importing this and creating const in component**\nimport { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _orderBy, _query1, _query2) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  \n  const orderBy = useRef(_orderBy).current;\n  const query1 = useRef(_query1).current;\n  const query2 = useRef(_query2).current;\n  \n  useEffect(() => {\n    setIsPending(true);\n    \n    let ref = projectFirestore.collection(collection);\n    \n    if (query1) {\n      ref = ref.where(...query1);\n    }\n\n    if (query2) {\n      ref = ref.where(...query2);\n    }\n\n    if (orderBy) {\n      ref = ref.orderBy(orderBy); // changed from ...orderby\n    }\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          results.push({ ...doc.data(), id: doc.id });\n        });\n\n        // update state\n        setDocuments(results);\n        setError(null);\n        setIsPending(false);\n      },\n\n      (error) => {\n        console.log(error);\n        setIsPending(false);\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, orderBy, query1, query2]);\n\n  return { documents, error, isPending };\n};","const filterList =['all', 'mine', 'development', 'sales', 'marketing', 'design']\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n    \n    const handleClick = (newFilter) => {\n        changeFilter(newFilter)\n    }\n\n    return (\n      <div className=\"project-filter\">\n        <nav>\n          <p>Filter by: </p>\n          {filterList.map((filter) => (\n            <button\n              className={currentFilter === filter ? \"active\" : \"\"}\n              key={filter}\n              onClick={() => handleClick(filter)}\n            >\n              {filter}\n            </button>\n          ))}\n        </nav>\n      </div>\n    );\n}\n","import './Avatar.css'\n\nexport default function Avatar({ src }) {\n    return (\n        <div className='avatar'>\n            <img src={src} alt='user avatar'></img>\n            \n        </div>\n    )\n}\n","import { Link } from 'react-router-dom';\nimport Avatar from './Avatar'\nimport './ProjectList.css'\n\nexport default function ProjectList({ projects }) {\n    return (\n      <div className='project-list'>\n        {projects.length === 0 && <p>No projects to show</p>}\n        {projects.map((project) => (\n          <Link to={`/project/${project.id}`}key={project.id} >\n              <h4>{project.name}</h4>\n              <p>due by {project.dueDate.toDate().toDateString()}</p>\n              <div className=\"assigned-to\">\n                  <ul>\n                  {project.assignedUsersList.map(user => (\n                      <li key={user.photoURL}>\n                          <Avatar src={user.photoURL}/>\n                      </li>\n                  ))}\n                  </ul>\n              </div>\n          </Link>\n        ))}\n      </div>\n    );\n}\n","import { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react';\nimport { useAuthContext\n } from '../../hooks/useAuthContext';\nimport ProjectFilter from \"./ProjectFilter\"\nimport ProjectList from \"../../components/ProjectList\";\n\n// styles\nimport './Dashboard.css'\n\nexport default function Dashboard() {\n    const { user } = useAuthContext()\n    const [filter, setFilter] = useState(\"all\"); \n    const { documents, error } = useCollection('projects')\n\n    const changeFilter = (newFilter) => {\n        setFilter(newFilter)\n    }\n    // need to check if we have documents before we filter with terniary\n    const projects = documents ? documents.filter((document) => {\n        switch (filter) {\n            case 'all':\n                return true\n            case 'mine':\n                let assignedToMe = false\n                document.assignedUsersList.forEach(u => {\n                    if(user.uid === u.id){\n                        assignedToMe = true\n                    }\n                })\n                return assignedToMe\n            case 'development':\n            case 'design':\n            case 'sales':\n            case 'marketing':\n                return document.category === filter\n            default:\n                return true\n            }\n        }) : null\n    \n        return (\n            <div>\n                <h2 className=\"title\">Dashboard</h2>\n                {error && <p className='error'>{error}</p>}\n                {documents && <ProjectFilter currentFilter={filter} changeFilter={changeFilter}/>}\n                {projects && <ProjectList projects={projects}/>}\n            </div>\n            )\n        }\n\n\n","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'UPDATED_DOCUMENT':\n      return { isPending:false, document: action.payload, success: true, error: null}\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection reference\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  // update document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING'})\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: 'UPDATED_DOCUMENT', payload: updatedDocument})\n      return updatedDocument\n    }\n    catch (err){\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message})\n      return null\n\n    }\n\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}\n","import { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router'\nimport Select from 'react-select'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useCollection } from '../../hooks/useCollection'\nimport { timestamp } from '../../firebase/config'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n// styles\nimport './Create.css'\n\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n]\n\nexport default function Create() {\n  // form field values\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n  // const [thumbnail, setThumbnail] = useState(null);\n  // const [thumbnailError, setThumbnailError] = useState(null);\n\n  const { addDocument, response } = useFirestore('projects')\n  const { documents } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n  const { user } = useAuthContext()\n  const navigate = useNavigate()\n\n  // create user values for react-select\n  useEffect(() => {\n    if (documents) {\n      setUsers(\n        documents.map((user) => {\n          return { value: { ...user, id: user.id }, label: user.displayName };\n        })\n      );\n    }\n  }, [documents]);\n\n  // Code for file upload\n  //  const handleFileChange = (e) => {\n  //    setThumbnail(null);\n  //    let selected = e.target.files[0];\n  //    console.log(selected);\n\n  //    if (!selected) {\n  //      setThumbnailError(\"Please select a file\");\n  //      return;\n  //    }\n  //    if (!selected.type.includes(\"image\")) {\n  //      setThumbnailError(\"Selected file must be an image\");\n  //      return;\n  //    }\n  //    if (selected.size > 100000) {\n  //      setThumbnailError(\"Image file size must be less than 100kb\");\n  //      return;\n  //    }\n\n  //    setThumbnailError(null);\n  //    setThumbnail(selected);\n  //  };\n\n   \n     /* <label>\n        <span>profile thumbnail:</span>\n        <input required type=\"file\" onChange={handleFileChange} />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label> */\n   \n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setFormError(null)\n\n    if(!category) {\n        setFormError('Please select a Project Category')\n        return\n    }\n\n    if (assignedUsers.length < 1) {\n      setFormError(\"Please assign at least one user to the project\");\n      return\n    }\n\n    // create an object for user who has created project using info from auth context\n    const createdBy = {\n        displayName: user.displayName,\n        photoURL: user.photoURL,\n        id: user.uid\n    }\n\n    // clean up data from user object to get info we need\n    // const assignedUsersList = assignedUsers.map((u) => {\n    //     return {\n    //         displayName: u.value.displayName,\n    //         photoURL: u.value.photoURL,\n    //         id: u.value.id\n    //     }\n    //   })\n\n    // create doc and save to firestore here\n    const project = {\n      name: name, //can be shortened to just name\n      details: details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)), //creates new timestamp from date given to fn\n      comments: [],\n      createdBy: createdBy,\n      \n    };\n    \n    await addDocument(project) // so waits here while addDocument completes\n\n    if(!response.error){\n      navigate('/')\n    }\n  };\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"title\">Add CPD Record</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>CPD Learning Title:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>What did you learn and how did you learn?</span>\n          <textarea\n            required\n            type=\"text\"\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Date completed</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Learning Category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        {/* <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label> */}\n        <button className=\"btn\">Add Project</button>\n        {formError && <p className='error'>{formError}</p>}\n      </form>\n    </div>\n  );\n}\n\n","// styles\nimport { useState, } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\nimport './Login.css'\n\nexport default function Login() {\n\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const { login, isPending, error } = useLogin();\n\n    const handleSubmit = (e) =>{\n        e.preventDefault()\n        login(email, password);\n    }\n\n    return (\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <h2>Log in</h2>\n        <label>\n          <span>email:</span>\n          <input\n            required\n            type=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n        </label>\n        <label>\n          <span>password:</span>\n          <input\n            required\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <span className='forgot-pwd'>Forgot Password?</span>\n        </label>\n        \n        {!isPending && <button className=\"btn\">Log in</button>}\n        {isPending && (<button disabled className=\"btn\">Loading...</button>)}\n        {error && <div className=\"error\">{error}</div>}\n      </form>\n    );\n}\n","import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const navigate = useNavigate()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const result = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // update online status\n      await projectFirestore.collection(\"users\")\n      .doc(result.user.uid).update({online: true});\n      \n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: result.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n        navigate('/')\n        \n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  \n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\n// import { useAuthContext } from './useAuthContext'\n\nexport const useCreateUser = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  // const { dispatch } = useAuthContext()\n\n  const createUser = async (\n    email,\n    password,\n    firstName,\n    lastName,\n    branch,\n    role,\n    createdBy,\n    isActive\n  ) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup (this creates new user within firebase)\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password);\n\n      // if no response(e.g. network problem) handle the error\n      if (!res) {\n        throw new Error(\"Could not create user, please try again\");\n      }\n\n      // upload user thumbnail\n      // const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      // const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      // const imgURL = await img.ref.getDownloadURL()\n\n      // add display name to user using updateProfile of above newly created user\n      await res.user.updateProfile({ displayName: firstName });\n\n      // create user document in database\n      await projectFirestore.collection(\"users\").doc(res.user.uid).set({\n        online: false,\n        firstName,\n        lastName,\n        branch,\n        role,\n        createdBy,\n        isActive\n      });\n\n      // dispatch login action to update global auth context so will have access to this user\n      // in whole application\n      // dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { createUser, error, isPending }\n}","import { useState, useEffect } from \"react\"\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { useCreateUser } from \"../../hooks/useCreateUser\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { timestamp } from \"../../firebase/config\";\nimport Select from \"react-select\";\n\n\n// styles\nimport \"./CreateUser.css\";\n// select box styles\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n    color: state.isSelected ? \"white\" : \"#inherit\",\n    backgroundColor: state.isSelected ? \"#4CAA3C\" : \"white\",\n    \":hover\": {\n      backgroundColor: \"#4caa3c2b\",\n      color: \"inherit\",\n    },\n  }),\n  valueContainer: (provided, state) => ({\n    ...provided,\n    \":focusVisible\": {\n      outline: \"#4caa3c 3px solid\",\n    },\n    padding: \"0px 8px\",\n  }),\n  control: (provided, state) => ({\n    ...provided,\n\n    \":hover\": {\n      borderColor: \"#4CAA3C\",\n    },\n  }),\n};\n\nconst branches = [\n  { value: \"Albert Wilde\", label: \"Albert Wilde Pharmacy\" },\n  { value: \"Bispham\", label: \"Bispham Pharmacy\" },\n  { value: \"Burscough\", label: \"Burscough Pharmacy\" },\n  { value: \"Cleveleys\", label: \"Cleveleys Pharmacy\" },\n  { value: \"CleveleysHC\", label: \"Cleveleys HC Pharmacy\" },\n  { value: \"FleetwoodHC\", label: \"Fleetwood HC Pharmacy\" },\n  { value: \"HeadOffice\", label: \"Head Office\" },\n  { value: \"MillLane\", label: \"Mill Lane Pharmacy\" },\n  { value: \"Riverside\", label: \"Riverside Pharmacy\" },\n  { value: \"Warburtons\", label: \"Warburtons Chemists\" },\n];\n\nexport default function CreateUser() {\n  \n  const { user } = useAuthContext();\n  const { documents } = useCollection(\"roles\", 'id');\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\")\n  const [roleList, setRoleList] = useState([])\n  const [branch, setBranch] = useState(\"\")\n  const [formError, setFormError] = useState(null)\n  const [isActive, setIsActive] = useState(true)\n\n\n  const { createUser, isPending, error } = useCreateUser();\n\n  // create user values for role select box\n  useEffect(() => {\n    if (documents) {\n      setRoleList(\n        documents.map((role) => {\n          return { value:role.name , label: role.name };\n        })\n      );\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    if (!branch) {\n      setFormError(\"Please select a branch\");\n      return;\n    }\n\n    if (!role) {\n      setFormError(\"Please select a role\");\n      return;\n    }\n\n    // create an object for user who has created project using info from auth context\n    const createdBy = {\n      name: user.displayName,\n      id: user.uid,\n      createdAt: timestamp.fromDate(new Date()), //creates new timestamp from date given to fn\n    };\n    \n    await createUser(email, password, firstName, lastName, branch, role, createdBy, isActive); // so waits here while addDocument completes\n\n    if(!error){\n      setFirstName('')\n      setLastName('')\n      setEmail('')\n      setPassword('')\n      setRole(null)\n      setBranch(null)\n      setIsActive(false)\n    }\n  };;\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Create New User</h2>\n      <div className=\"form-container\">\n        <div className=\"form-column\">\n          <label>\n            <span>first name:</span>\n            <input\n              required\n              type=\"text\"\n              onChange={(e) => setFirstName(e.target.value)}\n              value={firstName}\n            />\n            </label>\n          <label>\n            <span>last name:</span>\n            <input\n              required\n              type=\"text\"\n              onChange={(e) => setLastName(e.target.value)}\n              value={lastName}\n            />\n          </label>\n          <label>\n            <span>email:</span>\n            <input\n              autoComplete=\"new-password\"\n              name=\"email\"\n              required\n              type=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n            />\n          </label>\n          <label>\n            <span>temporary password:</span>\n            <input\n              autoComplete=\"new-password\"\n              name=\"password\"\n              required\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n          </label>\n        </div>\n        <div className=\"form-column\">\n          <label>\n            <span>branch:</span>\n            <Select\n              styles={customStyles}\n              options={branches}\n              onChange={(option) => setBranch(option.label)}\n            />\n          </label>\n          <label>\n            <span>role:</span>\n            <Select\n              styles={customStyles}\n              options={roleList}\n              onChange={(option) => setRole(option.value)}\n            />\n          </label>\n        </div>\n      </div>\n\n      {!isPending && <button className=\"btn\">Create User</button>}\n      {isPending && (\n        <button disabled className=\"btn\">\n          Loading\n        </button>\n      )}\n      {formError && <p className=\"error\">{formError}</p>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n","import { useFirestore } from '../../hooks/useFirestore';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport React from 'react'\nimport Avatar from '../../components/Avatar'\nimport { useNavigate } from 'react-router';\n\n\nexport default function ProjectSummary({ project }) {\n\n    const { deleteDocument } = useFirestore('projects')// to access hook to delete doc\n    const { user } = useAuthContext() // to access logged in user\n    const navigate = useNavigate()\n\n    const handleClick = (e) => {\n        // have access to id on project object above\n        deleteDocument(project.id)\n        navigate('/')\n\n    }\n    return (\n      <div>\n        <div className=\"project-summary\">\n          <h2 className=\"page-title\">{project.name}</h2>\n          <p>Created by: {project.createdBy.displayName} </p>\n          <p className=\"due-date\">\n            Project due by: {project.dueDate.toDate().toDateString()}\n          </p>\n          <p className=\"details\">{project.details}</p>\n\n          <h4>Project is assigned to:</h4>\n          <div className=\"assigned-users\">\n            {project.assignedUsersList.map((user) => (\n              <div key={user.id}>\n                <Avatar src={user.photoURL} />\n              </div>\n            ))}\n          </div>\n        </div>\n        {/* Checks current logged in user(user.uid) is the creator of project(project.createdBy.id) and and only allows\n         the user who created project to delete it*/}\n        {user.uid === project.createdBy.id && (\n          <button onClick={handleClick} className=\"btn\">\n            Mark as complete\n          </button>\n        )}\n      </div>\n    );\n}\n","import { useState } from \"react\"\nimport Avatar from \"../../components/Avatar\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nexport default function ProjectComments({ project }) {\n    const { updateDocument, response } = useFirestore('projects')\n    const [newComment, setNewComment] =useState('')\n    const { user } = useAuthContext()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n\n        const commentToAdd = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            content: newComment,\n            createdAt: timestamp.fromDate(new Date()),\n            id: Math.random()\n        }\n        await updateDocument(project.id, {\n            comments: [...project.comments, commentToAdd]\n        })\n        if(!response.error) {\n        //reset form state to remove added comment\n        setNewComment('')\n        }\n    }\n    return (\n      <div className=\"project-comments\">\n        <h4>Project Comments</h4>\n        <div className=\"comments-section\">\n          <ul>\n            {project.comments.length > 0 &&\n              project.comments.map((comment) => (\n                <li key={comment.content}>\n                  <div className=\"comment-author\">\n                    <Avatar src={comment.photoURL} />\n                    <p>{comment.displayName}</p>\n                  </div>\n                  <div className=\"comment-dates\">\n                    <p>{formatDistanceToNow(comment.createdAt.toDate(),{ \n                            addSuffix:true })}</p>\n                  </div>\n                  <div className=\"comments-content\">{comment.content}</div>\n                </li>\n              ))}\n          </ul>\n        </div>\n\n        <form className=\"add-comments\" onSubmit={handleSubmit}>\n          <label>\n            <span>Add new comment</span>\n            <textarea\n              required\n              onChange={(e) => setNewComment(e.target.value)}\n              value={newComment}\n            ></textarea>\n          </label>\n          <button className=\"btn\">Add Comment</button>\n        </form>\n      </div>\n    );\n}\n","import { useDocument } from '../../hooks/useDocument'\nimport { useParams } from 'react-router'\n\n// styles\nimport './Project.css'\nimport ProjectSummary from './ProjectSummary'\nimport ProjectComments from './ProjectComments'\n\nexport default function Project() {\n    const { id } = useParams()\n    const { error, document } = useDocument('projects', id)\n\n    if(error) {\n        return <div className='error'>{error}</div>\n    }\n\n    if(!document) {\n        return <div className='loading'>Loading...</div>\n    }\n\n    return (\n        <div className='project-details'>\n            <ProjectSummary project={document}/>\n            <ProjectComments project={document}/>\n        </div>\n    )\n}\n","import { useState, useEffect } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\n// two arguments, need to specify collection we want to get document from and document id\nexport const useDocument = (collection, id) => {\n    const [ document, setDocument] = useState(null)\n    const [ error, setError] = useState(null)\n\n    //real time data for document using useEffect\n    // to run once when loaded and then whenever document or id changes\n\n    useEffect(() => {\n\n        const ref = projectFirestore.collection(collection).doc(id)\n\n       const unsubscribe = ref.onSnapshot((snapshot) => {\n        // check to see if document has data has an\n            if(snapshot.data()) {\n                setDocument({ ...snapshot.data(), id: snapshot.id });\n                setError(null);\n            }\n            else {\n                setError('No such document exists')\n            }\n\n            \n            //if error 2nd argument is where its returned\n        }, (error) => {\n            console.log(error)\n            setError('failed to get document')\n        })\n\n        //unsubscribe, if move to another page, set onSnapshot to const variable and it fires if move away from page to stop the realtime connection \n\n        return () => unsubscribe()\n        \n    }, [collection, id])\n    //return document and any error\n    return { document, error }\n\n}","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  \n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    // sign the user out\n    try {\n      //update online status to offline\n\n      const { uid } = user\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n      await projectAuth.signOut();\n\n      // dispatch logout action\n      dispatch({ type: \"LOGOUT\" });\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/OBP.82a5e5be.svg\";","// import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\n\n// styles & images\nimport './Navbar.css'\nimport OBP from '../assets/OBP.svg'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nexport default function Navbar() {\n\n    const { logout, isPending } = useLogout()\n    const { user } = useAuthContext()\n    return (\n      <div className=\"navbar\">\n        <ul>\n          <li className=\"logo\">\n            <img src={OBP} alt=\"logo\" />\n            <span>O'Briens Pharmacy Group</span>\n          </li>\n          {!user && (\n            <>\n                {/* <li><Link to=\"/login\">Login</Link></li> */}\n                {/* <li><Link to=\"/signup\">Sign Up</Link></li> */}\n            </>)}\n          {user && (\n          <li>\n              {!isPending && <button className=\"btn\"onClick={logout}>Log Out</button>}\n              {isPending && <button className=\"btn\"disabled>Logging Out...</button>}\n          </li>)}\n        </ul>\n      </div>\n    );\n}\n","export const useGreeting = () => {\n  const time = parseInt(`${new Date().getHours()}`);\n     \n    let greetingText\n    \n    if (time < 12){\n        greetingText = 'Good Morning'\n        return greetingText;\n    } else if(time < 18){\n        greetingText ='Good Afternoon'\n        return greetingText;\n    } else {\n        greetingText ='Good Evening'\n        return greetingText;\n    }\n  };\n","export default __webpack_public_path__ + \"static/media/viewFigs.dda2c4b3.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/personIcon.a296afc6.svg\";","import { NavLink } from \"react-router-dom\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useGreeting } from \"../hooks/useGreeting\";\n\n\n// styles & icons\nimport \"./Sidebar.css\";\nimport ViewFigIcon from '../assets/viewFigs.svg'\nimport AddIcon from \"../assets/add_icon.svg\";\nimport DashboardIcon from \"../assets/dashboard_icon.svg\";\nimport Avatar from \"./Avatar\";\nimport userIcon from '../assets/personIcon.svg'\n\nexport default function Sidebar() {\n\n    const greeting = useGreeting()\n    const { user } = useAuthContext()\n    \n    \n    return (\n      <div className=\"sidebar\">\n        <div className=\"sidebar-content\">\n          <div className=\"user\">\n            <Avatar src={userIcon} />\n            <p>\n              {greeting}, {user.displayName}\n            </p>\n          </div>\n          <nav className=\"links\">\n            <ul>\n              <li>\n                <NavLink to=\"/\">\n                  <img src={DashboardIcon} alt=\"dashboard icon\" />\n                  <span>Dashboard</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/create\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add New Learning</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/addRxFigures\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add Rx Figures</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/viewRxFigures\">\n                  <img src={ViewFigIcon} alt=\"view figures icon\" />\n                  <span>View Rx Figures</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/addServiceFigures\">\n                  <img src={AddIcon} alt=\"add project icon\" />\n                  <span>Add Service Figures</span>\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    );\n}\n","import { useCollection } from '../hooks/useCollection'\nimport img from '../assets/personIcon.svg'\nimport Avatar from './Avatar'\n\n//styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n\n    const { documents, error } = useCollection('users')\n    \n    return (\n        <div className='user-list'>\n            <h2>All Users</h2>\n            {error && <div className='error'>{error}</div>}\n            {documents && documents.map(user => (\n                <div key={user.id} className='user-list-item'>\n                    {<span className={user.online ? \"online-user\" : \"offline-user\"}></span> }\n                    <span>{user.firstName}</span>\n                    <Avatar src={img}/>\n                </div>\n            ))}\n\n            \n        </div>\n    )\n}\n","import { Toaster } from \"react-hot-toast\";\n\nfunction ToastModal() {\n  return (\n        <Toaster\n          position=\"bottom-center\"\n          reverseOrder={false}\n          gutter={8}\n          containerClassName=\"\"\n          containerStyle={{\n            position: \"absolute\",\n            bottom: \"100px\",\n          }}\n          toastOptions={{\n            // Define default options\n            className: \"\",\n            duration: 5000,\n            style: {\n              background: \"#fff\",\n              color: \"black\",\n\n              height: \"50px\",\n              borderRadius: \"10px\",\n            },\n            // Default options for specific types\n            success: {\n              iconTheme: {\n                primary: \"white\",\n                secondary: \"#4CAA3C\",\n              },\n              duration: 5000,\n              style: {\n                background: \"#4CAA3C\",\n                color: \"#fff\",\n              },\n              theme: {\n                primary: \"\",\n                secondary: \"white\",\n              },\n            },\n            error: {\n              iconTheme: {\n                primary: \"white\",\n                secondary: \"#FF6B47\",\n              },\n              duration: 5000,\n              style: {\n                background: \"#FF6B47\",\n                color: \"#fff\",\n              },\n            },\n          }}\n        />)\n  }\n\nexport default ToastModal;\n","export default function RxFigureInput({inputName, onChangeFn, value }) {\n    return (\n      <label>\n        <span>{inputName}</span>\n        <input\n          required\n          min=\"0\"\n          type=\"number\"\n          onChange={ onChangeFn }\n          value={ value }\n        />\n      </label>\n    );\n}\n","import { useState, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport ToastModal from '../../components/Toast';\nimport RxFigureInput from '../../components/RxFigureInput';\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { useNavigate } from 'react-router';\nimport { timestamp } from \"../../firebase/config\";\nimport { useCollection} from '../../hooks/useCollection'\nimport Select from \"react-select\";\n\n// styles\nimport './AddRxFigure.css'\n// select box styles\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n    color: state.isSelected ? \"white\" : \"#inherit\",\n    backgroundColor: state.isSelected ? \"#4CAA3C\" : \"white\",\n    \":hover\": {\n      backgroundColor: \"#4caa3c2b\",\n      color: \"inherit\",\n    },\n  }),\n  valueContainer: (provided, state) => ({\n    ...provided,\n    \":focusVisible\": {\n      outline: \"#4caa3c 3px solid\",\n    },\n    padding: \"0px 8px\",\n  }),\n  control: (provided, state) => ({\n    ...provided,\n    width: '300px',\n\n    \":hover\": {\n      borderColor: \"#4CAA3C\",\n    },\n  }),\n};\n\n\nexport default function AddRxFigures() {\n  const { addDocument, response } = useFirestore(\"rxFigures\");\n  const { documents } = useCollection(\"branches\", \"name\");\n\n  const [date, setDate] = useState(\"\");\n  const { user } = useAuthContext();\n  const navigate = useNavigate();\n\n  const [branch, setBranch] = useState(\"\")\n  const [branchList, setBranchList] = useState([])\n\n  const [paperExForms, setPaperExForms] = useState(\"\");\n  const [paperExItems, setPaperExItems] = useState(\"\");\n  const [paperPdForms, setPaperPdForms] = useState(\"\");\n  const [paperPdItems, setPaperPdItems] = useState(\"\");\n\n  const [epsExForms, setEpsExForms] = useState(\"\");\n  const [epsExItems, setEpsExItems] = useState(\"\");\n  const [epsPdForms, setEpsPdForms] = useState(\"\");\n  const [epsPdItems, setEpsPdItems] = useState(\"\");\n\n  const [mdaExForms, setMdaExForms] = useState(\"\");\n  const [mdaExItems, setMdaExItems] = useState(\"\");\n  const [mdaPdForms, setMdaPdForms] = useState(\"\");\n  const [mdaPdItems, setMdaPdItems] = useState(\"\");\n\n  const paperExFormsChange = (e) => setPaperExForms(parseInt(e.target.value));\n  const paperExItemsChange = (e) => setPaperExItems(parseInt(e.target.value));\n  const paperPdFormsChange = (e) => setPaperPdForms(parseInt(e.target.value));\n  const paperPdItemsChange = (e) => setPaperPdItems(parseInt(e.target.value));\n  const epsExFormsChange = (e) => setEpsExForms(parseInt(e.target.value));\n  const epsExItemsChange = (e) => setEpsExItems(parseInt(e.target.value));\n  const epsPdFormsChange = (e) => setEpsPdForms(parseInt(e.target.value));\n  const epsPdItemsChange = (e) => setEpsPdItems(parseInt(e.target.value));\n  const mdsExFormsChange = (e) => setMdaExForms(parseInt(e.target.value));\n  const mdsExItemsChange = (e) => setMdaExItems(parseInt(e.target.value));\n  const mdsPdFormsChange = (e) => setMdaPdForms(parseInt(e.target.value));\n  const mdsPdItemsChange = (e) => setMdaPdItems(parseInt(e.target.value));\n\n  //   // Handle Toast button\n  //   const handleClick = (e) => {\n  //     if(e === 'success'){\n  //     toast.success(\"Rx Figures Submitted Succesfully\")\n  //   } else if(e === 'error') {\n  //     toast.error('There was a problem submitting figures, please try again')\n  //   }\n  // }\n\n  // create an object for user who has created project using info from auth context\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(e);\n\n    const addedBy = {\n      displayName: user.displayName,\n      id: user.uid,\n    };\n\n    const dailyFigures = {\n      addedBy,\n      branch,\n      dateForFigures: timestamp.fromDate(new Date(date)),\n      figures: {\n        paidForms: {\n          paperPdForms,\n          epsPdForms,\n          mdaPdForms,\n        },\n        paidItems: {\n          paperPdItems,\n          epsPdItems,\n          mdaPdItems,\n        },\n        exemptForms: {\n          paperExForms,\n          epsExForms,\n          mdaExForms,\n        },\n        exemptItems: {\n          paperExItems,\n          epsExItems,\n          mdaExItems,\n        },\n      },\n    };\n\n    await addDocument(dailyFigures);\n\n    if (!response.error) {\n      toast.success(\"Rx Figures Added\");\n      //set all input states to empty strings\n      setBranch(\"\")\n      setDate(\"\");\n      setPaperExForms(\"\");\n      setPaperExItems(\"\");\n      setPaperPdForms(\"\");\n      setPaperPdItems(\"\");\n      setEpsExForms(\"\");\n      setEpsExItems(\"\");\n      setEpsPdForms(\"\");\n      setEpsPdItems(\"\");\n      setMdaExForms(\"\");\n      setMdaExItems(\"\");\n      setMdaPdForms(\"\");\n      setMdaPdItems(\"\");\n    } else {\n      toast.error(\"There was an error, please try again\");\n    }\n  };\n\n  const handleViewBtnClick = (e) => {\n    e.preventDefault();\n    navigate(\"/viewrxfigures\");\n  };\n\n  // set branch dropdown\n  useEffect(() => {\n    if (documents) {\n      setBranchList(\n        documents.map((branch) => {\n          return { value: branch.name, label: branch.name };\n        })\n      )\n    }\n  }, [documents])\n\n   \n\n  return (\n    <>\n      <ToastModal/>\n      <h2>Add Prescription Figures</h2>\n      <div className=\"add-figures-form\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"branch-div\">\n            <label className=\"date-label\">\n              <span>\n                Please select a branch for the figures you are entering:\n              </span>\n            </label>\n            <Select\n              required\n              styles={customStyles}\n              options={branchList}\n              onChange={(option) => setBranch(option.value)}\n            />\n          </div>\n          <div className=\"date-div\">\n            <label htmlFor=\"dateInput\" className=\"date-label\">\n              <span>\n                Please select a date for the figures you are entering:\n              </span>\n            </label>\n\n            <input\n              id=\"dateInput\"\n              required\n              type=\"date\"\n              onChange={(e) => setDate(e.target.value)}\n              value={date}\n            />\n          </div>\n\n          <div className=\"rx-container\">\n            <fieldset>\n              <legend className=\"fp10paper\">FP10 Paper</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Forms\"\n                  value={paperExForms}\n                  onChangeFn={paperExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={paperExItems}\n                  onChangeFn={paperExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Forms\"\n                  value={paperPdForms}\n                  onChangeFn={paperPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={paperPdItems}\n                  onChangeFn={paperPdItemsChange}\n                />\n              </div>\n            </fieldset>\n            <fieldset>\n              <legend className=\"token\">EPS</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Tokens\"\n                  value={epsExForms}\n                  onChangeFn={epsExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={epsExItems}\n                  onChangeFn={epsExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Tokens\"\n                  value={epsPdForms}\n                  onChangeFn={epsPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={epsPdItems}\n                  onChangeFn={epsPdItemsChange}\n                />\n              </div>\n            </fieldset>\n            <fieldset>\n              <legend className=\"fp10mda\">FP10MDA</legend>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Exempt Forms\"\n                  value={mdaExForms}\n                  onChangeFn={mdsExFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Exempt Items\"\n                  value={mdaExItems}\n                  onChangeFn={mdsExItemsChange}\n                />\n              </div>\n              <div className=\"input-container\">\n                <RxFigureInput\n                  inputName=\"Paid Forms\"\n                  value={mdaPdForms}\n                  onChangeFn={mdsPdFormsChange}\n                />\n                <RxFigureInput\n                  inputName=\"Paid Items\"\n                  value={mdaPdItems}\n                  onChangeFn={mdsPdItemsChange}\n                />\n              </div>\n            </fieldset>\n          </div>\n          <div className=\"btn-container\">\n            <button className=\"btn submit-figures-btn\">Submit Figures</button>\n            <button\n              className=\"btn submit-figures-btn\"\n              onClick={handleViewBtnClick}\n            >\n              View figures\n            </button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n","import './AddServiceFigures.css'\n\nexport default function AddServiceFigures() {\n    return (\n        <div>\n            <h2>Add Service Figures</h2>\n        </div>\n    )\n}\n\n","import { format } from \"date-fns\";\nimport { useEffect, useState } from \"react\";\nimport \"./RxFigures.css\";\n\n\nexport default function RxFiguresTable({documents, results }) {\n    const [table, setTable] = useState();\n    useEffect(() => {\n        if (documents) {\n            setTable(\n                documents.map((data) => (\n                <tr key={data.id}>\n                    <td>{format(data.dateForFigures.toDate(), \"E do MMM\")}</td>\n                    <td>{data.figures.exemptForms.epsExForms}</td>\n                    <td>{data.figures.exemptItems.epsExItems}</td>\n                    <td>{data.figures.exemptForms.paperExForms}</td>\n                    <td>{data.figures.exemptItems.paperExItems}</td>\n                    <td>{data.figures.exemptForms.mdaExForms}</td>\n                    <td>{data.figures.exemptItems.mdaExItems}</td>\n                    <td>{data.figures.paidForms.epsPdForms}</td>\n                    <td>{data.figures.paidItems.epsPdItems}</td>\n                    <td>{data.figures.paidForms.paperPdForms}</td>\n                    <td>{data.figures.paidItems.paperPdItems}</td>\n                    <td>{data.figures.paidForms.mdaPdForms}</td>\n                    <td>{data.figures.paidItems.mdaPdItems}</td>\n                </tr>\n                )\n            )\n        )} \n        if(!results){\n        setTable(null)\n           setTable(\n             <tr>\n               <td colSpan='13'className='td-noData'>No Data Available</td>\n             </tr>\n           );}\n    }, [documents, results]);\n\n  return (\n      <>\n      \n      <table>\n        <thead>\n            <tr className=\"rxFigures-th\">\n            <th className=\"th-date\">Date</th>\n            <th>Ex EPS Forms</th>\n            <th>Ex EPS Items</th>\n            <th>Ex FP10 Forms</th>\n            <th>Ex FP10 Items</th>\n            <th>Ex FP10MDA Forms</th>\n            <th>Ex FP10MDA Items</th>\n            <th>Pd EPS Forms</th>\n            <th>Pd EPS Items</th>\n            <th>Pd FP10 Forms</th>\n            <th>Pd FP10 Items</th>\n            <th>Pd FP10MDA Forms</th>\n            <th>Pd FP10MDA Items</th>\n            </tr>\n        </thead>\n        <tbody>\n            {table}\n        </tbody>\n      </table>\n      \n      </>\n    );\n}\n","import SyncLoader from \"react-spinners/SyncLoader\";\nimport { useEffect, useState } from \"react\";\nimport RxFiguresTable from \"../../components/RxFiguresTable\";\nimport { projectFirestore } from \"../../firebase/config\";\nimport { format } from \"date-fns\";\n\n// Styles\nimport \"./ViewRxFigures.css\";\nimport { css } from \"@emotion/react\";\n\n// Spinner\nconst override = css`\n  position: absolute;\n  color: #4caa3c;\n  top: 45%;\n  left: 50%;\n  display: block;\n  margin: 0 auto;\n`;\n\nexport default function ViewRxFigures() {\n  const date = new Date();\n  const year = new Date().getFullYear()\n  const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [startDate, setStartDate] = useState(firstDay);\n  const [endDate, setEndDate] = useState(lastDay);\n  const [dataPresent, setDataPresent] = useState()\n  \n  useEffect(() => {\n    setIsPending(true);\n    const ref = projectFirestore\n      .collection(\"rxFigures\")\n      .where(\"dateForFigures\", \">=\", startDate)\n      .where(\"dateForFigures\", \"<=\", endDate)\n      .where(\"branch\", \"==\", 'Albert Wilde')\n      .orderBy(\"dateForFigures\");\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          results.push({ ...doc.data(), id: doc.id });\n        });\n        \n        // update state\n        if(results.length > 0){\n          setDataPresent(true)\n        } else {\n          setDataPresent(false)\n          \n        }\n        setDocuments(results)\n        setError(null);\n        setIsPending(false);\n      },\n\n      (error) => {\n        console.log(error);\n        setIsPending(false);\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [startDate, endDate]);\n\n\n  const handleDateInput = (date) => {\n    const inputDate = new Date(date);\n    const year = inputDate.getFullYear();\n    const month = inputDate.getMonth();\n    var firstDay = new Date(year, month, 1);\n    var lastDay = new Date(year, month + 1, 0);\n    setStartDate(firstDay)\n    setEndDate(lastDay)\n  };\n\n  return (\n    <div className=\"rx-figures-table\">\n      <h2>Rx Figures </h2>\n      <div className=\"nav-div\">\n        <input \n          type=\"month\" \n          min=\"2018-01\" \n          max=\"2021-12\"\n          value={format(startDate, 'yyyy-MM')}\n          onChange={(e) => handleDateInput(e.target.value)} />\n      </div>\n\n      <SyncLoader\n        color=\"#4caa3c\"\n        loading={isPending}\n        css={override}\n        size={10}\n        speedMultiplier={0.7}\n        margin={7}\n      />\n\n      {documents && (\n        <RxFiguresTable documents={documents} results={dataPresent} />\n      )}\n      {error && <div className=\"error\">{error}</div>}\n    </div>\n  );\n}\n","import { BrowserRouter, Route, Routes, Navigate } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n// styles\nimport './App.css'\n\n// pages & components\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport CreateUser from './pages/CreateUser/CreateUser'\nimport Project from './pages/project/Project';\n// import Admin from './pages/Admin/Admin'\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\nimport AddRxFigures from './pages/addRxFigures/AddRxFigures';\nimport AddServiceFigures from './pages/addServiceFigures/AddServiceFigures';\nimport ViewRxFigures from './pages/viewRxFigures/ViewRxFigures';\n\nfunction App() {\n\nconst { user, authIsReady } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  (user && <Dashboard />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/create\"\n                element={\n                  (user && <Create />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/login\"\n                element={(!user && <Login />) || (user && <Navigate to=\"/\" />)}\n              ></Route>\n\n              <Route\n                path=\"/createuser\"\n                element={\n                  (user && <CreateUser />) || (!user && <Navigate to=\"/\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/project/:id\"\n                element={\n                  (user && <Project />) || (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/addRxFigures\"\n                element={\n                  (user && <AddRxFigures />) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/addServiceFigures\"\n                element={\n                  (user && <AddServiceFigures />) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n              <Route\n                path=\"/viewrxfigures\"\n                element={\n                  (user && <ViewRxFigures/>) ||\n                  (!user && <Navigate to=\"/login\" />)\n                }\n              ></Route>\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}