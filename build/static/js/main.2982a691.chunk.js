(this["webpackJsonpobpg-app"]=this["webpackJsonpobpg-app"]||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(19),s=n.n(r),i=(n(36),n(14)),u=n(7),l=n(3),o=n(10),j=n(18);n(73),n(38),n(72);j.a.initializeApp({apiKey:"AIzaSyDyGjhXm_Hie8Zv5_XOA82hU7AuksN9l0c",authDomain:"obpg-app.firebaseapp.com",projectId:"obpg-app",storageBucket:"obpg-app.appspot.com",messagingSenderId:"130951808681",appId:"1:130951808681:web:2d6894969c853bbfca4bb8",measurementId:"G-YQRVNEED1N"});var d=j.a.firestore(),b=j.a.auth(),O=j.a.storage(),p=j.a.firestore.Timestamp,h=n(1),m=Object(c.createContext)(),x=function(e,t){switch(t.type){case"LOGIN":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(o.a)(Object(o.a)({},e),{},{user:null});case"AUTH_IS_READY":return{user:t.payload,authIsReady:!0};default:return e}},f=function(e){var t=e.children,n=Object(c.useReducer)(x,{user:null,authIsReady:!1}),a=Object(l.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var e=b.onAuthStateChanged((function(t){s({type:"AUTH_IS_READY",payload:t}),e()}))}),[]),console.log("AuthContext state:",r),Object(h.jsx)(m.Provider,{value:Object(o.a)(Object(o.a)({},r),{},{dispatch:s}),children:t})},v=function(){var e=Object(c.useContext)(m);if(!e)throw Error("useAuthContext must be used inside an AuthContextProvider");return e},g=(n(41),n(21)),N=function(e,t,n){var a=Object(c.useState)(null),r=Object(l.a)(a,2),s=r[0],i=r[1],u=Object(c.useState)(null),j=Object(l.a)(u,2),b=j[0],O=j[1],p=Object(c.useRef)(t).current,h=Object(c.useRef)(n).current;return Object(c.useEffect)((function(){var t,n,c=d.collection(e);p&&(c=(t=c).where.apply(t,Object(g.a)(p)));h&&(c=(n=c).orderBy.apply(n,Object(g.a)(h)));var a=c.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),i(t),O(null)}),(function(e){console.log(e),O("could not fetch the data")}));return function(){return a()}}),[e,p,h]),{documents:s,error:b}},y=["all","mine","development","sales","marketing","design"];function S(e){var t=e.currentFilter,n=e.changeFilter;return Object(h.jsx)("div",{className:"project-filter",children:Object(h.jsxs)("nav",{children:[Object(h.jsx)("p",{children:"Filter by: "}),y.map((function(e){return Object(h.jsx)("button",{className:t===e?"active":"",onClick:function(){n(e)},children:e},e)}))]})})}n(42);function D(e){var t=e.src;return Object(h.jsx)("div",{className:"avatar",children:Object(h.jsx)("img",{src:t,alt:"user avatar"})})}n(43);function E(e){var t=e.projects;return Object(h.jsxs)("div",{className:"project-list",children:[0===t.length&&Object(h.jsx)("p",{children:"No projects to show"}),t.map((function(e){return Object(h.jsxs)(i.b,{to:"/project/".concat(e.id),children:[Object(h.jsx)("h4",{children:e.name}),Object(h.jsxs)("p",{children:["due by ",e.dueDate.toDate().toDateString()]}),Object(h.jsx)("div",{className:"assigned-to",children:Object(h.jsx)("ul",{children:e.assignedUsersList.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(D,{src:e.photoURL})},e.photoURL)}))})})]},e.id)}))]})}n(44);function C(){var e=v().user,t=Object(c.useState)("all"),n=Object(l.a)(t,2),a=n[0],r=n[1],s=N("projects"),i=s.documents,u=s.error,o=i?i.filter((function(t){switch(a){case"all":return!0;case"mine":var n=!1;return t.assignedUsersList.forEach((function(t){e.uid===t.id&&(n=!0)})),n;case"development":case"design":case"sales":case"marketing":return t.category===a;default:return!0}})):null;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:"title",children:"Dashboard"}),u&&Object(h.jsx)("p",{className:"error",children:u}),i&&Object(h.jsx)(S,{currentFilter:a,changeFilter:function(e){r(e)}}),o&&Object(h.jsx)(E,{projects:o})]})}var P=n(8),F=n.n(P),I=n(11),w=n(28),R={document:null,isPending:!1,error:null,success:null},A=function(e,t){switch(t.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:t.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"UPDATED_DOCUMENT":return{isPending:!1,document:t.payload,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},k=function(e){var t=Object(c.useReducer)(A,R),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),u=i[0],j=i[1],b=d.collection(e),O=function(e){u||r(e)},h=function(){var e=Object(I.a)(F.a.mark((function e(t){var n,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"IS_PENDING"}),e.prev=1,n=p.fromDate(new Date),e.next=5,b.add(Object(o.a)(Object(o.a)({},t),{},{createdAt:n}));case 5:c=e.sent,O({type:"ADDED_DOCUMENT",payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),O({type:"ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(I.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"IS_PENDING"}),e.prev=1,e.next=4,b.doc(t).delete();case 4:O({type:"DELETED_DOCUMENT"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O({type:"ERROR",payload:"could not delete"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(I.a)(F.a.mark((function e(t,n){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"IS_PENDING"}),e.prev=1,e.next=4,b.doc(t).update(n);case 4:return c=e.sent,O({type:"UPDATED_DOCUMENT",payload:c}),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),O({type:"ERROR",payload:e.t0.message}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return j(!0)}}),[]),{addDocument:h,deleteDocument:m,updateDocument:x,response:a}},L=(n(46),[{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"sales",label:"Sales"},{value:"marketing",label:"Marketing"}]);function U(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(""),b=Object(l.a)(d,2),O=b[0],m=b[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),g=f[0],y=f[1],S=Object(c.useState)([]),D=Object(l.a)(S,2),E=D[0],C=D[1],P=Object(c.useState)(null),R=Object(l.a)(P,2),A=R[0],U=R[1],T=k("projects"),_=T.addDocument,G=T.response,M=N("users").documents,q=Object(c.useState)([]),B=Object(l.a)(q,2),z=B[0],H=B[1],W=v().user,Y=Object(u.g)();Object(c.useEffect)((function(){M&&H(M.map((function(e){return{value:Object(o.a)(Object(o.a)({},e),{},{id:e.id}),label:e.displayName}})))}),[M]);var J=function(){var e=Object(I.a)(F.a.mark((function e(t){var c,a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),U(null),g){e.next=5;break}return U("Please select a Project Category"),e.abrupt("return");case 5:if(!(E.length<1)){e.next=8;break}return U("Please assign at least one user to the project"),e.abrupt("return");case 8:return c={displayName:W.displayName,photoURL:W.photoURL,id:W.uid},a=E.map((function(e){return{displayName:e.value.displayName,photoURL:e.value.photoURL,id:e.value.id}})),r={name:n,details:i,category:g.value,dueDate:p.fromDate(new Date(O)),comments:[],createdBy:c,assignedUsersList:a},e.next=13,_(r);case 13:G.error||Y("/");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"create-form",children:[Object(h.jsx)("h2",{className:"title",children:"Add CPD Record"}),Object(h.jsxs)("form",{onSubmit:J,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"CPD Learning Title:"}),Object(h.jsx)("input",{required:!0,type:"text",onChange:function(e){return a(e.target.value)},value:n})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"What did you learn and how did you learn?"}),Object(h.jsx)("textarea",{required:!0,type:"text",onChange:function(e){return j(e.target.value)},value:i})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Date completed"}),Object(h.jsx)("input",{required:!0,type:"date",onChange:function(e){return m(e.target.value)},value:O})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Learning Category:"}),Object(h.jsx)(w.a,{onChange:function(e){return y(e)},options:L})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Assign to:"}),Object(h.jsx)(w.a,{onChange:function(e){return C(e)},options:z,isMulti:!0})]}),Object(h.jsx)("button",{className:"btn",children:"Add Project"}),A&&Object(h.jsx)("p",{className:"error",children:A})]})]})}n(63);function T(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],o=s[1],j=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(l.a)(r,2),i=s[0],o=s[1],j=Object(c.useState)(!1),O=Object(l.a)(j,2),p=O[0],h=O[1],m=v().dispatch,x=Object(u.g)(),f=function(){var e=Object(I.a)(F.a.mark((function e(t,c){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(null),h(!0),e.prev=2,e.next=5,b.signInWithEmailAndPassword(t,c);case 5:return a=e.sent,e.next=8,d.collection("users").doc(a.user.uid).update({online:!0});case 8:m({type:"LOGIN",payload:a.user}),n||(h(!1),o(null),x("/")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n||(o(e.t0.message),h(!1));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return a(!0)}}),[]),{login:f,isPending:p,error:i}}(),O=j.login,p=j.isPending,m=j.error;return Object(h.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault(),O(n,i)},children:[Object(h.jsx)("h2",{children:"Log in"}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"email:"}),Object(h.jsx)("input",{required:!0,type:"email",onChange:function(e){return a(e.target.value)},value:n})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"password:"}),Object(h.jsx)("input",{required:!0,type:"password",onChange:function(e){return o(e.target.value)},value:i})]}),!p&&Object(h.jsx)("button",{className:"btn",children:"Log in"}),p&&Object(h.jsx)("button",{disabled:!0,className:"btn",children:"Loading..."}),m&&Object(h.jsx)("div",{className:"error",children:m})]})}n(64);function _(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),p=j[0],m=j[1],x=Object(c.useState)(null),f=Object(l.a)(x,2),g=f[0],N=f[1],y=Object(c.useState)(null),S=Object(l.a)(y,2),D=S[0],E=S[1],C=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),p=j[0],h=j[1],m=v().dispatch,x=function(){var e=Object(I.a)(F.a.mark((function e(t,c,a,r){var s,i,l,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),h(!0),e.prev=2,e.next=5,b.createUserWithEmailAndPassword(t,c);case 5:if(s=e.sent){e.next=8;break}throw new Error("Could not complete signup");case 8:return i="thumbnails/".concat(s.user.uid,"/").concat(r.name),e.next=11,O.ref(i).put(r);case 11:return l=e.sent,e.next=14,l.ref.getDownloadURL();case 14:return o=e.sent,e.next=17,s.user.updateProfile({displayName:a,photoURL:o});case 17:return e.next=19,d.collection("users").doc(s.user.uid).set({online:!0,displayName:a,photoURL:o});case 19:m({type:"LOGIN",payload:s.user}),n||(h(!1),u(null)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),n||(u(e.t0.message),h(!1));case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t,n,c,a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return a(!0)}}),[]),{signup:x,error:i,isPending:p}}(),P=C.signup,w=C.isPending,R=C.error;return Object(h.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault(),P(n,i,p,g)},children:[Object(h.jsx)("h2",{children:"Sign Up"}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"email:"}),Object(h.jsx)("input",{required:!0,type:"email",onChange:function(e){return a(e.target.value)},value:n})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"password:"}),Object(h.jsx)("input",{required:!0,type:"password",onChange:function(e){return u(e.target.value)},value:i})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"display name:"}),Object(h.jsx)("input",{required:!0,type:"text",onChange:function(e){return m(e.target.value)},value:p})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"profile thumbnail:"}),Object(h.jsx)("input",{required:!0,type:"file",onChange:function(e){N(null);var t=e.target.files[0];console.log(t),t?t.type.includes("image")?t.size>1e5?E("Image file size must be less than 100kb"):(E(null),N(t)):E("Selected file must be an image"):E("Please select a file")}}),D&&Object(h.jsx)("div",{className:"error",children:D})]}),!w&&Object(h.jsx)("button",{className:"btn",children:"Sign Up"}),w&&Object(h.jsx)("button",{disabled:!0,className:"btn",children:"Loading"}),R&&Object(h.jsx)("div",{className:"error",children:R})]})}n(65);function G(e){var t=e.project,n=k("projects").deleteDocument,c=v().user,a=Object(u.g)();return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"project-summary",children:[Object(h.jsx)("h2",{className:"page-title",children:t.name}),Object(h.jsxs)("p",{children:["Created by: ",t.createdBy.displayName," "]}),Object(h.jsxs)("p",{className:"due-date",children:["Project due by: ",t.dueDate.toDate().toDateString()]}),Object(h.jsx)("p",{className:"details",children:t.details}),Object(h.jsx)("h4",{children:"Project is assigned to:"}),Object(h.jsx)("div",{className:"assigned-users",children:t.assignedUsersList.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(D,{src:e.photoURL})},e.id)}))})]}),c.uid===t.createdBy.id&&Object(h.jsx)("button",{onClick:function(e){n(t.id),a("/")},className:"btn",children:"Mark as complete"})]})}var M=n(31);function q(e){var t=e.project,n=k("projects"),a=n.updateDocument,r=n.response,s=Object(c.useState)(""),i=Object(l.a)(s,2),u=i[0],o=i[1],j=v().user,d=function(){var e=Object(I.a)(F.a.mark((function e(n){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={displayName:j.displayName,photoURL:j.photoURL,content:u,createdAt:p.fromDate(new Date),id:Math.random()},e.next=4,a(t.id,{comments:[].concat(Object(g.a)(t.comments),[c])});case 4:r.error||o("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"project-comments",children:[Object(h.jsx)("h4",{children:"Project Comments"}),Object(h.jsx)("div",{className:"comments-section",children:Object(h.jsx)("ul",{children:t.comments.length>0&&t.comments.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"comment-author",children:[Object(h.jsx)(D,{src:e.photoURL}),Object(h.jsx)("p",{children:e.displayName})]}),Object(h.jsx)("div",{className:"comment-dates",children:Object(h.jsx)("p",{children:Object(M.a)(e.createdAt.toDate(),{addSuffix:!0})})}),Object(h.jsx)("div",{className:"comments-content",children:e.content})]},e.content)}))})}),Object(h.jsxs)("form",{className:"add-comments",onSubmit:d,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Add new comment"}),Object(h.jsx)("textarea",{required:!0,onChange:function(e){return o(e.target.value)},value:u})]}),Object(h.jsx)("button",{className:"btn",children:"Add Comment"})]})]})}function B(){var e=function(e,t){var n=Object(c.useState)(null),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(null),u=Object(l.a)(i,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){var n=d.collection(e).doc(t).onSnapshot((function(e){e.data()?(s(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})),b(null)):b("No such document exists")}),(function(e){console.log(e),b("failed to get document")}));return function(){return n()}}),[e,t]),{document:r,error:j}}("projects",Object(u.h)().id),t=e.error,n=e.document;return t?Object(h.jsx)("div",{className:"error",children:t}):n?Object(h.jsxs)("div",{className:"project-details",children:[Object(h.jsx)(G,{project:n}),Object(h.jsx)(q,{project:n})]}):Object(h.jsx)("div",{className:"loading",children:"Loading..."})}n(66);var z=n.p+"static/media/OBP.82a5e5be.svg";function H(){var e=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(l.a)(r,2),i=s[0],u=s[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),O=j[0],p=j[1],h=v(),m=h.dispatch,x=h.user,f=function(){var e=Object(I.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),p(!0),e.prev=2,t=x.uid,e.next=6,d.collection("users").doc(t).update({online:!1});case 6:return e.next=8,b.signOut();case 8:m({type:"LOGOUT"}),n||(p(!1),u(null)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n||(u(e.t0.message),p(!1));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){return a(!0)}}),[]),{logout:f,error:i,isPending:O}}(),t=e.logout,n=e.isPending,a=v().user;return Object(h.jsx)("div",{className:"navbar",children:Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{className:"logo",children:[Object(h.jsx)("img",{src:z,alt:"logo"}),Object(h.jsx)("span",{children:"O'Briens Pharmacy Group"})]}),!a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/login",children:"Login"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/signup",children:"Sign Up"})})]}),a&&Object(h.jsxs)("li",{children:[!n&&Object(h.jsx)("button",{className:"btn",onClick:t,children:"Log Out"}),n&&Object(h.jsx)("button",{className:"btn",disabled:!0,children:"Logging Out..."})]})]})})}n(67);var W=n.p+"static/media/add_icon.376e9b6a.svg",Y=n.p+"static/media/dashboard_icon.bc800f3b.svg";function J(){var e=function(){var e=parseInt("".concat((new Date).getHours()));return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"}(),t=v().user;return console.log(t.displayName),Object(h.jsx)("div",{className:"sidebar",children:Object(h.jsxs)("div",{className:"sidebar-content",children:[Object(h.jsxs)("div",{className:"user",children:[Object(h.jsx)(D,{src:t.photoURL}),Object(h.jsxs)("p",{children:[e," ",t.displayName]})]}),Object(h.jsx)("nav",{className:"links",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsxs)(i.c,{to:"/",children:[Object(h.jsx)("img",{src:Y,alt:"dashboard icon"}),Object(h.jsx)("span",{children:"Dashboard"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.c,{to:"/create",children:[Object(h.jsx)("img",{src:W,alt:"add project icon"}),Object(h.jsx)("span",{children:"Add New Learning"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.c,{to:"/addRxFigures",children:[Object(h.jsx)("img",{src:W,alt:"add project icon"}),Object(h.jsx)("span",{children:"Add Rx Figures"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.c,{to:"/addServiceFigures",children:[Object(h.jsx)("img",{src:W,alt:"add project icon"}),Object(h.jsx)("span",{children:"Add Service Figures"})]})})]})})]})})}n(68);function V(){var e=N("users"),t=e.documents,n=e.error;return Object(h.jsxs)("div",{className:"user-list",children:[Object(h.jsx)("h2",{children:"All Users"}),n&&Object(h.jsx)("div",{className:"error",children:n}),t&&t.map((function(e){return Object(h.jsxs)("div",{className:"user-list-item",children:[Object(h.jsx)("span",{className:e.online?"online-user":"offline-user"}),Object(h.jsx)("span",{children:e.displayName}),Object(h.jsx)(D,{src:e.photoURL})]},e.id)}))]})}var X=n(23);function K(e){var t=e.inputName,n=e.onChangeFn,c=e.value;return Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:t}),Object(h.jsx)("input",{required:!0,min:"0",type:"number",onChange:n,value:c})]})}n(69);function Q(){var e=k("rxFigures"),t=e.addDocument,n=e.response,a=Object(c.useState)(""),r=Object(l.a)(a,2),s=r[0],i=r[1],u=v().user,o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],b=j[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)(""),g=Object(l.a)(f,2),N=g[0],y=g[1],S=Object(c.useState)(""),D=Object(l.a)(S,2),E=D[0],C=D[1],P=Object(c.useState)(""),w=Object(l.a)(P,2),R=w[0],A=w[1],L=Object(c.useState)(""),U=Object(l.a)(L,2),T=U[0],_=U[1],G=Object(c.useState)(""),M=Object(l.a)(G,2),q=M[0],B=M[1],z=Object(c.useState)(""),H=Object(l.a)(z,2),W=H[0],Y=H[1],J=Object(c.useState)(""),V=Object(l.a)(J,2),Q=V[0],Z=V[1],$=Object(c.useState)(""),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(""),ae=Object(l.a)(ce,2),re=ae[0],se=ae[1],ie=Object(c.useState)(""),ue=Object(l.a)(ie,2),le=ue[0],oe=ue[1],je=function(){var e=Object(I.a)(F.a.mark((function e(c){var a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(c),a={displayName:u.displayName,id:u.uid},r={addedBy:a,dateForFigures:s,figures:{paidForms:{paperPdForms:N,epsPdForms:q,mdaPdForms:re,totalPdForms:N+q+re},paidItems:{paperPdItems:E,epsPdItems:W,mdaPdItems:le},exemptForms:{paperExForms:d,epsExForms:R,mdaExForms:Q},exemptItems:{paperExItems:m,epsExItems:T,mdaExItems:te}}},e.next=5,t(r);case 5:n.error?X.b.error("There was an error, please try again"):(X.b.success("Rx Figures Added"),i(""),b(""),x(""),y(""),C(""),A(""),_(""),B(""),Y(""),Z(""),ne(""),se(""),oe(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(X.a,{position:"bottom-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{position:"absolute",bottom:"100px"},toastOptions:{className:"",duration:5e3,style:{background:"#fff",color:"black",height:"50px",borderRadius:"10px"},success:{iconTheme:{primary:"white",secondary:"#4CAA3C"},duration:5e3,style:{background:"#4CAA3C",color:"#fff"},theme:{primary:"",secondary:"white"}},error:{iconTheme:{primary:"white",secondary:"#FF6B47"},duration:5e3,style:{background:"#FF6B47",color:"#fff"}}}})}),Object(h.jsx)("h2",{children:"Add Prescription Figures"}),Object(h.jsx)("div",{className:"add-figures-form",children:Object(h.jsxs)("form",{onSubmit:je,children:[Object(h.jsxs)("div",{className:"date-div",children:[Object(h.jsx)("label",{htmlFor:"dateInput",className:"date-label",children:Object(h.jsx)("span",{children:"Please select a date for the figures you are entering:"})}),Object(h.jsx)("input",{id:"dateInput",required:!0,type:"date",onChange:function(e){return i(e.target.value)},value:s})]}),Object(h.jsxs)("div",{className:"rx-container",children:[Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("legend",{children:"FP10 Paper"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Exempt Forms",value:d,onChangeFn:function(e){return b(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Exempt Items",value:m,onChangeFn:function(e){return x(parseInt(e.target.value))}})]}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Paid Forms",value:N,onChangeFn:function(e){return y(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Paid Items",value:E,onChangeFn:function(e){return C(parseInt(e.target.value))}})]})]}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("legend",{className:"token",children:"EPS"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Exempt Tokens",value:R,onChangeFn:function(e){return A(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Exempt Items",value:T,onChangeFn:function(e){return _(parseInt(e.target.value))}})]}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Paid Tokens",value:q,onChangeFn:function(e){return B(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Paid Items",value:W,onChangeFn:function(e){return Y(parseInt(e.target.value))}})]})]}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("legend",{className:"fp10mda",children:"FP10MDA"}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Exempt Forms",value:Q,onChangeFn:function(e){return Z(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Exempt Items",value:te,onChangeFn:function(e){return ne(parseInt(e.target.value))}})]}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)(K,{inputName:"Paid Forms",value:re,onChangeFn:function(e){return se(parseInt(e.target.value))}}),Object(h.jsx)(K,{inputName:"Paid Items",value:le,onChangeFn:function(e){return oe(parseInt(e.target.value))}})]})]})]}),Object(h.jsxs)("div",{className:"btn-container",children:[Object(h.jsx)("button",{className:"btn submit-figures-btn",children:"Submit Figures"}),Object(h.jsx)("button",{className:"btn submit-figures-btn",children:"View figures"})]})]})})]})}n(70);function Z(){return Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:"Add Service Figures"})})}var $=function(){var e=v(),t=e.user,n=e.authIsReady;return Object(h.jsx)("div",{className:"App",children:n&&Object(h.jsxs)(i.a,{children:[t&&Object(h.jsx)(J,{}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(H,{}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/",element:t&&Object(h.jsx)(C,{})||!t&&Object(h.jsx)(u.a,{to:"/login"})}),Object(h.jsx)(u.b,{path:"/create",element:t&&Object(h.jsx)(U,{})||!t&&Object(h.jsx)(u.a,{to:"/login"})}),Object(h.jsx)(u.b,{path:"/login",element:!t&&Object(h.jsx)(T,{})||t&&Object(h.jsx)(u.a,{to:"/"})}),Object(h.jsx)(u.b,{path:"/signup",element:!t&&Object(h.jsx)(_,{})||t&&Object(h.jsx)(u.a,{to:"/"})}),Object(h.jsx)(u.b,{path:"/project/:id",element:t&&Object(h.jsx)(B,{})||!t&&Object(h.jsx)(u.a,{to:"/login"})}),Object(h.jsx)(u.b,{path:"/addRxFigures",element:t&&Object(h.jsx)(Q,{})||!t&&Object(h.jsx)(u.a,{to:"/login"})}),Object(h.jsx)(u.b,{path:"/addServiceFigures",element:t&&Object(h.jsx)(Z,{})||!t&&Object(h.jsx)(u.a,{to:"/login"})})]})]}),t&&Object(h.jsx)(V,{})]})})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(f,{children:Object(h.jsx)($,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.2982a691.chunk.js.map